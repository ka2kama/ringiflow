# 問題起点の Issue に改善記録が欠如

## 事象

プロセス改善系の GitHub Issue 32 件を調査した結果、約10件が「問題を起点」としているにもかかわらず、改善記録を経ずに直接 Issue 化されていた。

問題起点の例:
- #390: Rules Check の COMMENTED レビューが APPROVED を上書きする
- #373: AI が生成するコードの DRY 違反検出
- #356: base branch sync 漏れ
- #301: ドキュメント更新トリガーの形骸化
- #279: TDD テストと品質保証テストの区別
- #269: 品質チェックリスト重複
- #132: Auto Review が PR コメント未考慮

一方、新規施策（idea 起点）として改善記録不要のもの（約22件）も混在:
- #327: ISO/IEC 25010 導入
- #250: /next スキル作成
- #161: 段階的英語統合

## 原因分析

改善記録 README の「作成トリガー」が AI エージェント運用に限定されている:

> - ユーザーの指摘が正当だった場合（AI が見落とした問題をユーザーが検出した）
> - AI の出力に誤りや品質問題があった場合
> - プロセスの不備により手戻りが発生した場合

3番目の「プロセスの不備」は広義には該当するが、「AI エージェント運用改善記録」というタイトルが暗黙のスコープ制限になっている。CI/CD やワークフローの問題は「AI 運用」ではないため、改善記録の対象外と判断されやすい。

また、「問題起点」と「idea 起点」の判定基準が明文化されていないため、問題の発見を直接 Issue 化するフローが自然に採用されてしまう。

## 対策

### 恒久対策

1. **README に判定基準を追加する**: 改善記録が必要な場面と不要な場面を明確化する

判定基準:

| 起点 | 判定 | 例 |
|------|------|-----|
| 問題起点（具体的な問題事象がある） | 改善記録 → Issue | CI 失敗、レビュー漏れ、手戻り |
| idea 起点（問題事象なし、前向きな施策） | 直接 Issue 化 OK | 新スキル追加、新ツール導入 |

2. **既存の問題起点 Issue を棚卸しする**: open 状態の問題起点 Issue について、改善記録の遡及作成が必要か判断する

Issue: #458

## 次のアクション

- [x] README の「作成トリガー」セクションに判定基準を追記
- [x] 既存の問題起点 Issue を棚卸し（全件クローズ済み、分類データを補完）

## 棚卸し結果

問題起点の10件はすべてクローズ済み。フルの改善記録の遡及作成はコスト対効果が低いため、分類データのみ補完する。

| Issue | タイトル | カテゴリ | 失敗タイプ | 根拠 |
|-------|---------|---------|-----------|------|
| #390 | Rules Check の COMMENTED が APPROVED を上書き | 視点不足 | プロセスギャップ | 同一 bot の複数ワークフローでのレビュー上書き仕様を未考慮 |
| #373 | AI が生成するコードの DRY 違反検出 | コンテキストウィンドウ制約 | プロセスギャップ | AI は過去に書いたコードとの類似性を構造的に認知できない |
| #356 | base branch sync 漏れ | プロセス設計不足 | プロセスギャップ | Ready for Review 前の同期確認ステップが手順書に未定義 |
| #301 | ドキュメント更新トリガーの形骸化 | プロセス設計不足 | プロセスギャップ | 新サービス追加時の設計書更新ルールが未定義 |
| #279 | TDD テストと品質保証テストの区別 | プロセス設計不足 | プロセスギャップ | TDD テストと品質保証テストの区別が手順書に未定義 |
| #269 | 品質チェックリスト重複 | プロセス設計不足 | プロセスギャップ | zoom-rhythm.md と Issue駆動開発.md のチェックリストが重複 |
| #192 | インクリメンタルレビュー未実装 | 視点不足 | プロセスギャップ | 差分レビューの観点が初期設計時に欠落 |
| #132 | Auto Review が PR コメント未考慮 | 視点不足 | プロセスギャップ | コード差分のみを入力とし、PR コメントの議論を未考慮 |
| #116 | Rules Check の改善 | 知識-実行乖離 | プロセスギャップ | allowedTools 不足で Claude がツール使用に失敗しターン消費 |
| #70 | Auto Review がステータスチェックに反映されない | 知識ギャップ | 知識ギャップ | workflow_run の仕様を認識せずに設計 |

### 傾向

- **プロセス設計不足**が最多（4件）: AI の問題ではなく、手順書・ルールのカバレッジ不足
- **視点不足**が3件: CI/CD 設計時の多角的な検討が不足
- **プロセスギャップ**が9/10件: ほぼ全てがプロセス・仕組みの不備に帰結

### 新規カテゴリの提案

**コンテキストウィンドウ制約**: AI がコンテキストウィンドウの制約により、過去に書いたコードとの類似性を認知できない問題。既存の「知識-実行乖離」とは異なり、行動規範では構造的に解決不能。ツール（コピペ検出等）での仕組み化が必要。

**プロセス設計不足**: AI の振る舞いではなく、手順書・ルール自体のカバレッジ不足。既存カテゴリが AI の構造的特性に焦点を当てているのに対し、プロセス設計の問題を区別する。

## 分類

- カテゴリ: 知識-実行乖離
- 失敗タイプ: プロセスギャップ
- 問題の性質: プロセス的

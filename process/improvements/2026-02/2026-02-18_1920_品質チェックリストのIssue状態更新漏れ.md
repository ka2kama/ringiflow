# 品質チェックリストの Issue 状態更新漏れ

## 事象

PR マージ時に `Closes #XX` で Issue が auto-close されるが、Issue 側のチェックボックス（完了基準、実装計画の Phase チェック）が未更新のままクローズされることがある。

## 原因分析

### 表層的原因

マージ前に Issue のチェックボックスを更新し忘れた。

### 根本原因

品質チェックリスト（6.2）の「Issue との整合」が「達成されているか」（実質的な検証）を問うのみで、「Issue 上のチェックボックスが `[x]` に更新されているか」（状態の検証）を問わない。

| 要素 | 現状 | 問題 |
|------|------|------|
| 品質チェックリスト | 「全て達成されているか」「全て完了しているか」 | 「達成」の検証と「状態更新」のアクションが区別されていない |
| 都度更新ルール（セクション5） | 「Phase やタスクが完了したら、Issue のチェックボックスを都度更新する」 | 実装中のルールであり、マージ前の最終確認として機能しない |

Epic タスクリスト更新は改善記録 #524 で対策済みだが、Story Issue 自身のチェックボックスについては同等のステップがなかった。

## 対策

### 対策形式の検討

| 形式 | 案 | 評価 |
|------|-----|------|
| 行動規範 | 「マージ前に Issue のチェックボックスを更新すること」 | 低（忘れる） |
| 成果物要件 | 品質チェックリストの文言を「`[x]` に更新されているか」に変更 | 高（既存チェックリストで検証可能） |

品質チェックリストの「Issue との整合」の文言を、状態更新を含む形に変更する。

現状:
```markdown
- [ ] Issue の完了基準チェックリストが全て達成されているか
- [ ] Issue の実装計画（Phase、テストリスト）が全て完了しているか
```

変更案:
```markdown
- [ ] Issue の完了基準チェックリストが全て `[x]` に更新されているか
- [ ] Issue の実装計画（Phase、テストリスト）のチェックボックスが全て `[x]` に更新されているか
```

Issue #646

## 次のアクション

- Issue #646: 品質チェックリストの Issue チェックボックス更新確認を明確化する

## 分類

- カテゴリ: 知識-実行乖離
- 失敗タイプ: プロセスギャップ
- 問題の性質: プロセス的

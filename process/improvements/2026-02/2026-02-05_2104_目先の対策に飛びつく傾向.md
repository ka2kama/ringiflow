# 目先の対策に飛びつく傾向

## 事象

Issue #208 の wrap-up 中、PR を Draft で作成しなかった問題に対して:

1. 最初の対応: MEMORY.md に「次回は Draft で作成する」と記録
2. ユーザーの指摘: MEMORY.md は対策ではない（ローカル PC の暗黙知）
3. 次の対応: 改善記録を作成、Issue #241 を作成
4. ユーザーの指摘: 2つの問題を混同している
5. 次の対応: 改善記録を分割、Issue を修正
6. ユーザーの指摘: 目先の対策ではなく、To-Be から考えるべき
7. 最終対応: 根本原因を分析し、Issue #242 で抜本的な対策を提案

問題のパターン:
- 指摘を受けるたびに「とりあえずの修正」を繰り返した
- 最初から腰を据えて考えていれば、1回で適切な対策に辿り着けた
- ルールファイルを作成したが、参照方法を考えずに作成した（また同じパターン）

## 原因分析

### 表層的な原因

「早く修正して先に進みたい」という意識が働き、深く考える前に手を動かしてしまう。

### 根本原因

問題解決のアプローチが確立されていない。

現状（As-Is）:
```
問題発生 → すぐに修正案を出す → 指摘される → また修正 → ...
```

理想（To-Be）:
```
問題発生 → 一旦立ち止まる → 理想状態を定義 → ギャップを分析 → 根本原因を特定 → 対策を設計 → 実行
```

### 本質的な構造

今回の一連の問題（PR を勝手に Ready にした、参照されないルールを作った、等）の本質:

```
Want: ユーザーが意図しない AI の挙動を防ぎたい
  └── How: 手順を確立する（問題が発生した領域ごとに）
        ├── PR 完了フロー
        ├── ルール追加時の参照確認
        └── ... 新たな問題が発生するたびに追加
```

具体的な「how」は領域ごとに異なるが、「want」は共通。この構造を理解していないと、新しい領域で問題が起きたときに同じ過ちを繰り返す。

## 対策

### 問題解決のフレームワーク

問題や指摘を受けたときは、以下の順序で考える:

1. **To-Be（理想状態）**: どうあるべきだったか？
2. **As-Is（現状）**: 実際に何が起きたか？
3. **ギャップ分析**: なぜ理想と現実にずれが生じたか？
4. **根本原因**: 表層的な原因の奥にある構造的な問題は何か？
5. **対策設計**: 根本原因を解消するには何が必要か？

このフレームワークを経ずに対策を出さない。

### 自己チェック

対策を提示する前に自問する:

- 「この対策は表層的ではないか？」
- 「理想状態を定義したか？」
- 「根本原因まで掘り下げたか？」

## 次のアクション

完了:
- `.claude/rules/problem-solving.md` としてルール化
- CLAUDE.md から参照を追加
- ルール追加手順を `docs/80_ナレッジベース/devtools/ClaudeCode_rules.md` に明文化

## 参考

- 関連: [PR を Draft で作成しなかった](./2026-02-05_2104_PRをDraftで作成しなかった.md)
- 関連: [ユーザー確認なしに PR を Ready にした](./2026-02-05_2104_ユーザー確認なしにPRをReadyにした.md)

## 分類

- カテゴリ: 即座の対策
- 失敗タイプ: プロセスギャップ
- 問題の性質: 思考的

## 検証（対策実行後に追記）

- 実施日: 2026-02-06
- 対策の実行状況: 実行済み
- 効果: `.claude/rules/problem-solving.md` が作成され、問題解決のフレームワーク（To-Be → As-Is → ギャップ分析 → 根本原因 → 対策設計）が確立された。`CLAUDE.md` から参照され、「このフレームワークを経ずに対策を提示すること」が禁止事項として明記された。2026-02-06 に Want と How の混同という関連問題が発生したが、フレームワークの深化として対処された
- 備考: 関連改善: [Want と How の混同](2026-02-06_2210_WantとHowの混同.md)

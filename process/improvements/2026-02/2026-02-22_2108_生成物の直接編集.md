# 生成物の直接編集

## 事象

#769 の Phase 5（OpenAPI 更新）で、utoipa から自動生成される `openapi/openapi.yaml` を手動で `role_name` → `role_id` に編集した。`just openapi-generate` の実行で上書きされ、手動編集は無駄になった。

その後、`#[schema(format = "uuid")]` アノテーションを Rust 構造体に追加し、再生成することで正しく対応した。

## 原因分析

### 表層的な原因

Phase 5 の計画に「OpenAPI を手動編集する」とも「utoipa から再生成する」とも明記されていなかった。ファイルの生成パイプラインを確認せずに編集を開始した。

### 根本原因

ファイルを変更する前に「このファイルは生成物か？ソースオブトゥルースはどこか？」を確認するプロセスが存在しない。生成物とソースの対応関係がどこにも明文化されていない。

## 対策

- 問題の性質: プロセス的
- 生成物とソースオブトゥルースの対応表をルールファイルまたはドキュメントに明記する
- 実装前の確認（`.claude/rules/pre-implementation.md`）に「生成物の確認」観点を追加する
- 対策形式の検証: 成果物要件（対応表の存在）+ フロー組み込み（確認ステップの追加）で転換済み
- Issue #773

## 次のアクション

- [ ] Issue #773 で精査・実施

## 分類

- カテゴリ: 参照漏れ
- 失敗タイプ: プロセスギャップ
- 問題の性質: プロセス的

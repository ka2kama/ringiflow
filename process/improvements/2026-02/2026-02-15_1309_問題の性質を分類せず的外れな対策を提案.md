# 問題の性質を分類せず的外れな対策を提案

## 事象

改善記録 `2026-02-15_1303_エラーメッセージのみで判断し実際の状態を確認しない.md` の対策として、Issue #546「問題解決フレームワークに『実際の状態確認』ステップを追加」を提案した。

しかし、この対策は的外れだった：

- **問題の性質**: CI エラー調査（技術的トラブルシューティング）
- **提案した対策**: 問題解決フレームワーク（Want/To-Be/As-Is の構造化分析）に追加
- **問題**: 両者は異なる性質であり、適用範囲が異なる

ユーザーから「そもそも問題フレームワーク外の作業ではなかったか」「あまり的外れな対策案を出されても困る」と指摘された。

## 原因分析

### 1. 問題の性質を分類しなかった

対策を考える前に、問題の性質を分類しなかった。

| 問題の性質 | 適切なアプローチ | 例 |
|----------|----------------|-----|
| 技術的トラブルシューティング | 調査手順、確認手段の明確化 | CI エラー、ビルドエラー、実行時エラー |
| プロセス的問題 | フロー・チェックリストの改善 | 品質ゲート漏れ、手順のスキップ |
| 思考的問題 | フレームワーク、原則の明確化 | 間接的因果関係の見落とし、推測による判断 |

CI エラー調査は「技術的トラブルシューティング」だが、問題解決フレームワークは「思考的問題」のためのツールである。

### 2. 既存ツールの適用範囲を理解していなかった

問題解決フレームワーク（`.claude/rules/problem-solving.md`）の適用場面を確認しなかった。

**実際の適用場面**:
- 問題や指摘を受けたとき
- Issue に着手するとき（Issue 自体を仮説として検証）
- 改善記録の対策を実行するとき
- 設計判断を行うとき

**フレームワークの構造**:
1. Want（本質）
2. To-Be（理想状態）
3. As-Is（現状）
4. ギャップ分析
5. 根本原因
6. 対策設計

CI エラー調査は、このフレームワークを適用する場面ではない。

### 3. 対策案の妥当性を検証しなかった

「問題があった → 何かに追加すれば解決する」という安易な発想で、以下を検証しなかった：

- この対策は問題の性質に合っているか？
- 既存ツールの適用範囲を拡大すべきか？
- より適切なアプローチはないか？

### 4. 「即座の対策」パターンの再発

改善記録のカテゴリ「即座の対策」の問題が再発している。深く考えずに、反射的に対策を提案した。

## 対策

### 成果物要件

改善記録の「対策」セクションを作成する前に、以下のチェックリストを適用する：

```markdown
## 対策案の妥当性チェック

- [ ] 問題の性質を分類した（技術的 / プロセス的 / 思考的）
- [ ] 既存ツール・フレームワークの適用範囲を確認した
- [ ] 対策案が問題の性質に合っている
- [ ] スコープの不適切な拡大になっていない
- [ ] より適切なアプローチを検討した
```

### 問題の性質による対策の方向性

| 問題の性質 | 対策の方向性 | 例 |
|----------|-------------|-----|
| 技術的トラブルシューティング | 調査手順、確認手段、ツールの使い方 | `.claude/rules/troubleshooting.md` 新規作成 |
| プロセス的問題 | フロー改善、チェックリスト追加 | PR 完了フローに Draft 後の再 Ready フローを追加 |
| 思考的問題 | フレームワーク、原則、観点の追加 | 問題解決フレームワークにシステムレベルの影響を追加 |

### 既存ツールの適用範囲の確認方法

対策案を考える前に、既存ツール・フレームワークのドキュメントを読み、以下を確認する：

1. どういう場面で使われるか（適用場面）
2. どういう構造・ステップを持つか
3. 今回の問題はその適用範囲に含まれるか

## 次のアクション

- [ ] 改善記録の対策セクション作成時の妥当性チェックリストをルール化する（Issue #547）
  - `process/improvements/README.md` の対策セクションの書き方に追加
  - または `.claude/rules/` に新しいルールファイルとして作成

## 分類

- カテゴリ: 即座の対策
- 失敗タイプ: 実行ギャップ

# ルールファイル追記時の文体規約違反

## 事象

#353 で `.claude/rules/rust.md` に doctest エラーハンドリング方針を追記した際、語りかけ・解説調の文面（「doctest は『使い方のお手本』として機能するため」）が混入した。これは #325 で修正済みの文体規約に反する。

ユーザーの指摘で発覚し、同セッション内で修正した。

## 原因分析

#325（ルールファイルの語りかけ調除去）は完了済みだが、新規追記時に文体規約を確認するプロセスが組み込まれていなかった。既存ファイルの修正は行ったが、今後の追記に対するガードがなかった。

直接原因: ルールファイルに追記する際、#325 の文体規約を参照しなかった。

構造的原因: 収束確認チェックリストに「ルールファイルの文体チェック」が含まれておらず、文体規約がプロセスに組み込まれていない。

## 対策

ルールファイル（`.claude/rules/`）を編集する際の文体チェックを、既存の品質チェックプロセスに統合する。

具体案:
- `.claude/rules/` 配下のファイルを変更した場合、コミット前に #325 の文体基準（語りかけ調の排除、簡潔なルール文体）を確認する
- これは品質チェックリストの「既存パターン整合」の一部として実施できる

恒久対策の必要性は低い（意識レベルの問題であり、構造的な仕組みを追加するほどの規模ではない）。

## 次のアクション

なし（同セッション内で修正済み。今後は追記時に文体を意識する）。

## 分類

- カテゴリ: 参照漏れ
- 失敗タイプ: 実行ギャップ
- 問題の性質: プロセス的

## 検証（対策実行後に追記）

- 実施日: 2026-02-11
- 対策の実行状況: 実行済み
- 効果: 同セッション内で修正済み（#353）。`.claude/rules/docs.md` にドキュメント生成時の自己チェック（文体整合）が追加され、ルールファイル編集時の文体確認が品質チェックの一部として位置づけられた
- 備考: 恒久対策は「意識レベルの問題」として仕組み化を見送り。docs.md の自己チェックでカバーされている

# Epic の Story 進捗が未記録

## 事象

Epic #467 の Story 1（#511）が PR #517 でマージ・クローズ済みであったが、Epic のタスクリストが更新されていなかった。チェックボックスは未チェックのまま、Story Issue へのリンクもなかった。

セッション再開時（`/restore`）に `just check` で現状を確認するまで、Story 1 が完了済みであることに気づけなかった。

## 原因分析

### 表層的原因

Story #511 の PR マージ時に、Epic #467 のタスクリストを更新しなかった。

### 根本原因

Epic と Story の関連を管理するプロセスが不十分。

| 場面 | 現状のプロセス | 問題 |
|------|-------------|------|
| Story Issue 作成時 | Epic のタスクリストに Story を追加する手順なし | Story と Epic の紐づけが曖昧 |
| Story PR マージ時 | Epic のチェックボックスを更新する手順なし | 進捗が反映されない |
| Epic の進捗確認 | 手動でしか確認できない | 状態が古いまま放置される |

Issue 駆動開発の手順書には「Epic は全サブ Issue 完了後に手動クローズ」とあるが、Story の進捗を Epic に反映するタイミングが定義されていない。

## 対策

### 対策形式の検討

| 形式 | 案 | 評価 |
|------|-----|------|
| 行動規範 | 「Story クローズ時に Epic を更新すること」 | 低（忘れる） |
| 成果物要件 | Epic タスクリストに Story Issue リンクが存在し、完了した Story はチェック済みであること | 中 |
| フロー組み込み | Issue 駆動開発の手順書に、Story クローズ時の Epic 更新ステップを追加 | 高 |

Issue 駆動開発の手順書に以下を追加する:

1. Story Issue 作成時: Epic のタスクリストに `#番号` リンクを追記する
2. Story PR マージ時: Epic のタスクリストのチェックボックスを更新する

Issue #524

## 検証（対策実行後に追記）

- 実施日: 2026-02-17
- 対策の実行状況: 実行済み
- 効果: 未確認（次回以降の Epic/Story 運用時に再発有無を確認）
- 備考: PR #603 で Issue 駆動開発手順書に「Epic タスクリストの管理」セクションを追加

## 分類

- カテゴリ: 知識-実行乖離
- 失敗タイプ: プロセスギャップ
- 問題の性質: プロセス的

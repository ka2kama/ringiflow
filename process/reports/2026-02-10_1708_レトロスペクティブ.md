# レトロスペクティブ（2026-02-10）

## 分析期間

前回レトロ: なし（初回） / 今回: 2026-02-10
対象: 全期間（2026-01-27 〜 2026-02-10）

---

## 1. 改善システムの検証

### カテゴリ別集計（ベースライン）

| カテゴリ | 件数 | 比率 | 傾向 |
|---------|------|------|------|
| 知識-実行乖離 | 4 | 31% | 最多 — プロセスは存在するが実行フローに未統合 |
| 参照漏れ | 4 | 31% | 最多 — ドキュメント/手順が存在するが参照されない |
| 視点不足 | 2 | 15% | E2E視点・複数パスの同時把握の困難 |
| 単一パス検証 | 1 | 8% | 1回の確認で完全と判断 |
| コンテキスト引きずり | 1 | 8% | 前の文脈を不適切に持ち越し |
| 即座の対策 | 1 | 8% | 深く考えずに対策提示 |

注: カテゴリフィールドは 2026-02 月中旬以降の記録に付与されている（13件/33件）。初期の記録には未付与のため、母数は限定的。

所見: **知識-実行乖離**と**参照漏れ**が全体の 62% を占める。共通パターンは「知識は存在するが、実行時のトリガーが不足している」こと。

### 失敗タイプ別集計（ベースライン）

| 失敗タイプ | 件数 | 比率 | 所見 |
|-----------|------|------|------|
| プロセスギャップ | 13 | 57% | プロセス自体の不備が最多 |
| 実行ギャップ | 9 | 39% | 知っていたが実行しなかった |
| 知識ギャップ | 1 | 4% | 情報自体を知らなかった（極少） |

所見: 知識ギャップがほぼゼロ（4%）であり、ドキュメントと形式知化は高水準。問題の本質は**プロセスの具体性不足**（57%）と**実行時のトリガー欠如**（39%）にある。

### 対策有効性

| 対策形式 | 実施済 | 効果あり | 再発 | 有効率 |
|---------|--------|---------|------|--------|
| 行動規範 | 多数 | 低い | 高い | 低 |
| 成果物要件 | 5+ | 高い | 低い | 高 |
| フロー組み込み | 3 | 高い | なし | 高 |
| 判定テスト | 2 | 高い | なし | 高 |

重要な発見: 行動規範（「〜すること」）は有効率が低く、**成果物要件化**（「〜が記載されていること」）や**フロー組み込み**（hooks、CI、スキル内チェック）に転換した対策が高い有効率を示す。

進行中の転換例:
- 「視点を上げろ」→「設計原則レンズで具体的な問いに答えろ」
- 「wrap-up を先に実行」→「構造的チェックポイント（`git diff` で検証）」

### 再発パターン

| 元の記録 | 再発記録 | カテゴリ | 対策形式 | 分析 |
|---------|---------|---------|---------|------|
| Hurl仕様未確認（02-01） | Hurl仕様未確認の再発（02-02） | 参照漏れ | 行動規範 | 「確認すべき」では再発。改善記録の形骸化も同時指摘 |
| wrap-up前にReady（02-05） | wrap-up前にReady再発（02-09） | 参照漏れ | 行動規範→成果物要件 | 行動規範での再発を受け、#344 で構造的チェックポイント導入 |

パターン: いずれも初回対策が**行動規範**形式であり、再発後に**成果物要件/フロー組み込み**に転換して解決。

---

## 2. プロジェクト健全性トレンド

### 3 軸バランス

| 軸 | 所見 | 方向 |
|----|------|------|
| Discovery | Phase 1 MVP 完了。Phase 2（マルチテナント RLS）は未着手。機能仕様書 2 件新設 | → （Phase間の移行期） |
| Delivery | オープン 14件、直近30日で 50件+ クローズ。停滞 0件 | → （安定した消化ペース） |
| Sustainability | 大型ファイル 16件（最大 1696行）、TODO 2件、改善記録 33件/月、ADR 40件 | → （課題は明確、プロセス成熟度高い） |

注: 健全性診断レポートは 1 件のみ（2026-02-10）のため、トレンド比較は次回以降。

### バランス評価

Sustainability に偏重、Discovery が停滞気味。Phase 1 完了後の品質改善期として適切だが、Phase 2 への移行計画が必要。セッションログの内訳も Feature 23% に対し Maintain/Improve 60% で、現在は「守り」フェーズにある。

プロジェクトフェーズ（Phase間の品質改善期）を考慮すると、この偏りは意図的かつ健全。ただし長期化すると Feature 停滞リスクがある。

---

## 3. SRE 的観点

### 再発率・MTTR

- 再発率: 2/33件（6%）— wrap-up Ready 再発、Hurl仕様未確認再発
- 平均 MTTR: 約 1-2日（多くの対策が発見翌日〜当日に実装）
- 検証セクション追記率: 20/44件（45%）— #375 のバックフィルにより 4.5% → 45% に改善

所見: 再発率 6% は良好。MTTR も短い。ただし検証セクション追記率 45% は改善途上であり、フィードバックループの後半がまだ完全に閉じていない。

### Toil

| Toil 候補 | 頻度 | 自動化可能性 | 推奨 |
|----------|------|------------|------|
| 改善記録の検証セクション追記 | Issue クローズ毎 | 中 | `/retro` での半自動化（実施済み #375） |
| PR完了フローの各ステップ確認 | PR 毎 | 中 | チェックリストの lefthook 組み込み検討 |
| base branch 同期確認 | PR 毎 | 高 | `just` タスクまたは hook で自動化可能 |
| 品質チェックリストの手動確認 | Phase 完了毎 | 低 | 判断を伴うため完全自動化は困難 |
| カテゴリ/失敗タイプのタグ付け | 改善記録作成毎 | 中 | テンプレート強化で入力漏れ防止 |

### エラーバジェット

直近30日のクローズ済み Issue 50件の分類（ラベル + 内容からの推定値）:

| カテゴリ | 件数（推定） | 比率 |
|---------|-------------|------|
| Feature（攻め） | ~10 | ~20% |
| Maintain/Improve（守り） | ~38 | ~76% |
| Fix | ~2 | ~4% |

所見: 守り 76% は Phase 間の品質改善期として適切。Fix が 4% と極めて低く、プロダクション品質は安定。ただし Feature 20% が長期化すると Phase 2 への移行が遅れるリスクがある。

推奨: 大型ファイル分割（#290）を完了した段階で、Feature 比率を 40-50% に引き上げる Phase 2 計画を策定すべき。

---

## 4. アクションアイテム

| 優先度 | カテゴリ | アクション | 根拠 |
|--------|---------|---------|------|
| High | プロセス改善 | 行動規範形式の既存対策を成果物要件/フロー組み込みに転換する | 再発パターンが示す対策有効性の法則。行動規範は再発率が高い |
| High | Maintain | #290 大型ファイル分割を推進する | 16ファイルが500行超。最大1696行。構造品質の最大リスク |
| High | Discovery | Phase 2 計画策定を開始する | Phase 1 完了済み、Feature 比率 20% で停滞リスク |
| Medium | Toil 削減 | base branch 同期確認の自動化（just タスク or hook） | PR 毎の手作業、自動化可能性高 |
| Medium | プロセス改善 | 改善記録のカテゴリ/失敗タイプ付与率を100%にする | 現在は13/33件（39%）のみ。分析精度に直結 |
| Medium | 検証 | 検証セクション追記率を45%→80%に引き上げる | フィードバックループを閉じるための中間目標 |
| Low | Toil 削減 | 品質チェックリストの一部自動化（lint 連携等） | 判断を伴う項目が多く完全自動化は困難だが、機械的な項目は自動化可能 |

---

## セルフレビュー記録

| ループ | 観点 | 修正内容 |
|-------|------|---------|
| 1回目 | データ正確性 | エラーバジェットの件数が推定値であることを明示（「件数」→「件数（推定）」） |
| 1回目 | 解釈妥当性 | 「行動規範は有効率が低い」は再発2件のデータに裏付けあり。修正なし |
| 1回目 | アクション根拠 | 全アクションがデータに紐づいていることを確認。修正なし |

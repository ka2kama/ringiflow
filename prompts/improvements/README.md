# AI エージェント運用改善記録

AI エージェントとの協働で発生した問題と対策を記録する。

## 目的

- 問題の原因分析と対策を記録し、再発を防止する
- CLAUDE.md や手順書の改善につなげる
- 同様の問題が発生した際の参照資料とする

## ディレクトリ構造

月ごとのサブディレクトリに整理する。

```
prompts/improvements/
├── YYYY-MM/
│   ├── YYYY-MM-DD_HHMM_<トピック>.md
│   └── ...
└── README.md
```

例: `prompts/improvements/2026-01/2026-01-27_2303_Issue駆動開発フロー未遵守.md`

## ファイル命名規則

```
YYYY-MM-DD_HHMM_<トピック>.md
```

- `HHMM`: 最初のコミット時刻（24時間形式、例: `0930`, `1415`）
- `<トピック>`: 問題の概要（例: `Issue駆動開発フロー未遵守`）

時刻の取得方法:

```bash
git log --format="%ci" --reverse <branch> --not main | head -1
# 出力例: 2026-01-22 11:08:10 +0900 → HHMM = 1108
```

## 記載内容

1. 事象: 何が起きたか
2. 原因分析: なぜ起きたか
3. 対策: どう改善するか
4. 次のアクション: 具体的な作業項目

## 対策セクションの性質

対策セクションは「そのとき考えた対策案」であり、確定した方針ではない。Issue と同様に、実行時には [問題解決フレームワーク](../../.claude/rules/problem-solving.md) で精査してから実装に入る。

改善記録を書く時点では原因分析に集中し、対策は「その時点での最善の仮説」として記録する。

## 恒久対策の Issue 化（必須）

改善記録に恒久対策（未実行の作業項目）を記載した場合、**必ず GitHub Issue を作成**し、改善記録に Issue 番号を記載する。

理由: 改善記録はナレッジベースであり、タスク追跡の仕組みではない。未実行の作業項目が改善記録の中に埋もれて忘れられるリスクがある。タスク追跡は GitHub Issues に一元化する。

手順:

1. 恒久対策を改善記録に記載
2. 対応する GitHub Issue を作成
3. 改善記録の対策セクションに `Issue #番号` を記載

例外: 「任意」「推奨」と明記されたアクション項目は Issue 作成を省略してよい。

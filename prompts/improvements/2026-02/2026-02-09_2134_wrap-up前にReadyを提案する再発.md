# wrap-up 前に Ready を提案する再発

## 事象

PR #339（Issue #326）で、Draft PR 作成直後に「Ready にしてよいですか？」と聞き、wrap-up（`/wrap-up`）を飛ばした。PR #332 で同じ問題が発生し改善記録を作成済みだったが、再発した。

PR 完了フローの手順:

```
1. 実装完了、just check-all 通過
2. 収束確認完了
3. Draft PR 作成
4. /wrap-up でドキュメント整備  ← スキップ
5. ユーザーに確認を求める       ← 先に実行
6. ユーザー承認後、gh pr ready
```

## 原因分析

### 直接原因

Draft PR 作成の完了が「タスク完了」の達成感を生み、次に自然な行動として「Ready にしてよいですか？」を提示した。wrap-up はドキュメント整備であり、主タスクの後処理として認知的に飛ばされやすい。

### 根本原因

前回の対策「既存手順に従うことで防止できる」は行動規範（behavioral norm）であり、構造的な強制力がない。これは `pre-implementation.md` が「行動規範 → 構造的チェックポイント」にリデザインされた（#337）のと同じパターン。

行動規範が機能しないパターン:
- 手順書に書いてある → 参照しない → 再発
- 改善記録に書いてある → 参照しない → 再発

## 対策

「Ready にしてよいですか？」を聞く前に、wrap-up 済みかを構造的に検証する仕組みが必要。

具体案: PR 完了フローに構造的チェックポイントを追加する。「Ready にしてよいですか？」の前に wrap-up 済みの証跡（セッションログのコミット存在）を確認する。

## 次のアクション

- [ ] PR 完了フローに wrap-up 済み検証の構造的チェックポイントを追加する（Issue #344）

## 分類

- カテゴリ: 参照漏れ
- 失敗タイプ: プロセスギャップ

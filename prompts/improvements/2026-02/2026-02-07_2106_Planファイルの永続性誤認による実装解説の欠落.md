# Plan ファイルの永続性誤認による実装解説の欠落

## 事象

Issue #265（ConfirmDialog アクセシビリティ改善）の wrap-up で、実装解説の作成を「⚪（該当なし）」と判定した。判定理由は「Plan ファイルが詳細な設計解説を含んでいる」。

しかし Plan ファイルは `~/.claude/plans/` に保存されており、リポジトリ外の Claude Code ローカル作業ディレクトリである。Git 管理対象でなく、セッション間で保持される保証もない。

結果として、設計判断を伴う実装の解説がリポジトリに永続化されないまま wrap-up を完了しようとした。

## 原因分析

### 表層原因

Plan ファイルの保存場所と永続性を確認せずに、内容の充実度だけで判断した。

### 根本原因

ドキュメント作成の要否判断で、情報の「内容」と「所在・永続性」を区別していなかった。

「詳細な設計解説がある」（内容の評価）は正しいが、「それがリポジトリに残るか」（永続性の評価）という観点が欠落していた。

## 対策

### 即時対策（実施済み）

実装解説を作成した。

### 恒久対策

wrap-up スキルの実装解説の判定基準に、Plan ファイルの扱いを明記する。

> Plan ファイル（`~/.claude/plans/`）はリポジトリ外の一時ファイルであり、永続的なドキュメントとして扱ってはならない。Plan ファイルに設計解説が含まれていても、実装解説の作成を省略する理由にならない。

Issue #280

## 次のアクション

- [x] 実装解説を作成（本セッションで実施）
- [ ] wrap-up スキルに Plan ファイルの注意書きを追加（[Issue #280](https://github.com/ka2kama/ringiflow/issues/280)）

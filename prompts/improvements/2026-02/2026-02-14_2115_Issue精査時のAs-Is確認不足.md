# Issue 精査時の As-Is 確認不足

**日時**: 2026-02-14
**発生場面**: Issue #447 着手時の Issue 精査
**カテゴリ**: プロセス（問題解決フレームワーク）

## 何が起きたか（As-Is）

Issue #447 の精査時に、問題解決フレームワークの As-Is（現状）として **Issue 本文の記載をそのまま使用**した。

```
As-Is（現状）:
- Rust ジョブ: 6〜10 分（平均 8〜9 分）
```

しかし実際には：
- Issue 作成日: 2026-02-11
- 精査実施日: 2026-02-14
- **この間に PR #490, #502 がマージ済み**
- **最新の As-Is: 3.2 分**（-68% 改善済み）

Issue 本文の現状分析が古くなっていることに気づかず、「現状把握」をユーザーに提案してから初めて最新の As-Is を測定した。

## どうあるべきだったか（To-Be）

Issue 精査時に、以下を実施すべきだった：

1. **Issue 作成日時を確認**
2. **作成後の関連 PR を検索**（Issue 番号で検索）
3. **最新の As-Is を測定・確認**
   - Issue 本文を鵜呑みにしない
   - 可能な限り実測・実際の設定ファイル確認で検証
4. **Issue の前提が現在も有効か判断**

**Issue の現状分析には 2 つのリスクがある:**
- **時間的妥当性**: Issue 作成後に状況が変わっている
- **事実的妥当性**: Issue 作成時点でも現状分析が間違っている（測定方法の誤り、設定の見落とし等）

その上で：
- 既に改善済みなら → 残る課題を特定、Issue クローズを提案
- まだ未改善なら → Issue の現状分析を検証してから進める
- 現状分析が間違っているなら → 正しい As-Is で再評価

## なぜこうなったか（ギャップ分析）

### 表層的な原因

- Issue 本文を「現状」として扱ってしまった
- Issue 作成日時と精査実施日の時間差を考慮しなかった

### 根本原因

**問題解決フレームワークの As-Is の意味を誤解していた。**

- 誤った理解: As-Is = 「Issue に書かれている現状」
- 正しい理解: As-Is = 「**現時点で実際に起きていること**」（測定・確認が必要）

Issue は「作成時点の仮説」であり、着手時には必ず検証が必要。

### V&V における位置づけ

この問題は **Validation（妥当性確認）の失敗** である。

プロジェクトの品質戦略:
- **Validation**: 正しい問題を解いているか？
- **Verification**: 正しく作っているか？

Issue の前提を検証せずに実装に入ると、Validation が失敗する。その結果、Verification（実装品質）がどれだけ優れていても、無駄な作業になる。

**Validation が失敗すると、Verification の努力が無に帰す。** Issue 精査時の As-Is 確認は、Validation 層の強化である。

## 対策

### 1. ルールへの追記

`.claude/rules/problem-solving.md` の「適用場面」セクションに、Issue 精査時の As-Is 確認手順を追記する。

### 2. Issue 駆動開発の手順書への反映

`docs/04_手順書/04_開発フロー/01_Issue駆動開発.md` の「既存 Issue の精査」セクションに、最新の As-Is 確認をチェックリストとして追加する。

### 3. AI エージェントへの指示強化

Issue 精査時に、以下を必ず実施するよう明記：
- Issue 作成日時の確認
- 関連 PR の検索（`gh pr list --search "#<Issue番号>"`）
- 最新の As-Is の測定

## 効果測定

次回以降の Issue 精査で、以下を確認：
- [ ] Issue 作成日時を確認したか
- [ ] 関連 PR を検索したか
- [ ] 最新の As-Is を測定したか
- [ ] Issue の前提が現在も有効か判断したか

## 関連

- [問題解決フレームワーク](../../.claude/rules/problem-solving.md)
- [Issue 駆動開発](../../docs/04_手順書/04_開発フロー/01_Issue駆動開発.md)

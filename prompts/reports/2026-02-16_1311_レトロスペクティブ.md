# レトロスペクティブ（2026-02-16）

## 分析期間

前回レトロ: 2026-02-13 / 今回: 2026-02-16
対象: 2026-02-13 〜 2026-02-16（3 日間）

注: Issue #562 の自動生成対象期間（02-02〜02-08）は前回レトロでカバー済みのため、正しい分析期間に修正。

---

## 1. 改善システムの検証

### カテゴリ別推移

| カテゴリ | 前回（02/10-02/13） | 今回（02/14-02/16） | 増減 | 傾向 |
|---------|-------------------|-------------------|------|------|
| 知識-実行乖離 | 5（45%） | 5（31%） | -14pt | 依然最多だが比率低下。新規プロセスの「知っているが実行しない」パターン |
| 即座の対策 | 1（9%） | 3（19%） | +10pt | 急増。エラーメッセージ鵜呑み、ユーザー確認省略、問題分類なしの対策提示 |
| 参照漏れ | 0（0%） | 3（19%） | +19pt | 再出現。対象は改善記録のフォーマット・テンプレート参照（コード実装とは異なるメタレベル） |
| 視点不足 | 2（18%） | 3（19%） | +1pt | 横ばい。worktree 依存の見落とし、間接的因果関係の見落とし |
| 単一パス検証 | 2（18%） | 2（13%） | -5pt | 微減。サブエージェント出力の検証不足 |
| コンテキスト引きずり | 0（0%） | 0（0%） | — | 2 期連続ゼロ |
| その他 | 1（9%） | 0（0%） | -9pt | 解消 |

注: 3 件の改善記録が非標準フォーマット（`**カテゴリ**: プロセス(...)` 形式）でカテゴリを記載していた。最も近い標準カテゴリにマッピングして集計。

所見:
- **即座の対策の急増**（9%→19%）が最も懸念される変化。問題の性質を分類せずに対策を提示するパターン、エラーメッセージを鵜呑みにして実際の状態を確認しないパターンが新たに出現
- **参照漏れの再出現**（0%→19%）。前回 #392 の効果で消滅したが、改善記録自体のフォーマット参照というメタレベルで再発。改善システム自体の品質管理に課題
- **カテゴリの分散化**: 前回は知識-実行乖離に集中（45%）していたが、今回は 5 カテゴリに分散（13〜31%）。特定パターンへの集中は解消されたが、幅広い領域で問題が発生

### 失敗タイプ別推移

| 失敗タイプ | 前回（02/10-02/13） | 今回（02/14-02/16） | 増減 |
|-----------|-------------------|-------------------|------|
| 実行ギャップ | 1（9%） | 8（50%） | +41pt |
| プロセスギャップ | 8（73%） | 8（50%） | -23pt |
| 知識ギャップ | 2（18%） | 0（0%） | -18pt |

所見:
- **実行ギャップの急増**（9%→50%）が最大の変化。前回レトロで「#392 の成果物要件化により激減」と報告した実行ギャップが再び急増。#392 の効果はコード実装時の参照漏れに限定されており、プロセス運用（改善記録のフォーマット遵守、review-and-merge 手順遵守等）には波及していない
- **プロセスギャップは件数横ばい**（8 件）だが比率は低下（73%→50%）。新規作業開始時の main 同期、Draft 後の再 Ready チェック等、未定義プロセスが引き続き発見されている
- **知識ギャップがゼロ**に。前回指摘されたパイプバッファリングや pg_dump 等の技術知識不足は解消

### 対策有効性

| 対策形式 | 実施済 | 効果あり | 再発 | 有効率 |
|---------|--------|---------|------|--------|
| 行動規範 | — | 低い | 高い | 低 |
| 成果物要件 | 多数 | 高い（コード実装領域） | 1 件（メタレベル） | 中〜高 |
| フロー組み込み | 多数 | 高い | 1 件 | 高 |
| 判定テスト | 3+ | 高い | なし | 高 |

前回との差分:
- 成果物要件の有効性はコード実装領域で維持。参照漏れの再出現はメタレベル（改善記録のフォーマット）であり、#392 のスコープ外
- フロー組み込み（review-and-merge スキル）でも 1 件の再発。base branch 同期確認が「組み込み済み」と報告されていたが、スキップされた
- 検証セクション: 16 件中 1 件のみ記載済み（多くが直近のため未検証は妥当）

### 再発パターン

| 元の記録 | 再発記録 | カテゴリ | 対策形式 | 分析 |
|---------|---------|---------|---------|------|
| 02-05 ユーザー確認なしに PR を Ready にした | 02-15 ユーザー確認なしに破壊的操作を実行した | 即座の対策 | 行動規範 | 対象が PR Ready→破壊的操作に変化。行動規範形式では異なる文脈での同パターンを防げない |
| 02-13 レトロ: base branch 同期「組み込み済み」 | 02-14 review-and-merge で base-branch 同期確認をスキップ | 知識-実行乖離 | フロー組み込み | フローに組み込まれていたが実行がスキップされた |
| 02-13 レトロ: 参照漏れ 0% | 02-14〜15 改善記録フォーマットの参照漏れ 3 件 | 参照漏れ | 成果物要件 | 対策スコープがコード実装に限定。メタレベル（改善記録自体）に波及していなかった |

---

## 2. プロジェクト健全性トレンド

### 3 軸バランス

| 軸 | 前回（02/13） | 今回（02/16） | 方向 |
|----|-------------|-------------|------|
| Discovery | Phase 2-3 完了 | 変化なし（Feature 実装ゼロ） | → 停滞 |
| Delivery | オープン 18 件、3 日で 20 件クローズ | オープン 32 件、3 日で 20 件クローズ | ↓ オープン件数急増 |
| Sustainability | 大型ファイル 16 件（最大 3501 行） | 大型ファイル 21 件（最大 1882 行） | → 最大ファイル大幅改善、件数は増加 |

### バランス評価

前回は「Discovery と Delivery が大幅に前進」と報告したが、今回は完全に守りに偏重。Feature 実装ゼロ、クローズ 20 件中 19 件が Maintain/Improve。ただし Phase 間の品質改善期として合理的:

- workflow/command.rs（3501 行）→ decision.rs（1882 行）+ lifecycle.rs（1289 行）に分割。最大ファイルサイズ約半減
- CI ビルド時間短縮（#447）、Rust フォーマッター標準化（#541）、DB 名統一（#548）等の DX 改善
- review-and-merge スキル改善、Issue 精査プロセスの成果物要件化等のプロセス改善

オープン Issue が 18→32 に急増。改善記録からの Issue 化ペースが消化ペースを上回っている。ただし停滞 Issue は確認されず、優先度管理は機能している。

---

## 3. SRE 的観点

### 再発率・MTTR

- 再発率: 3/16 件（19%）— 前回比 +19pt（0%→19%）
- 平均 MTTR: 約 0.4 日 — 前回比ほぼ横ばい（0.5 日→0.4 日）

所見:
- 再発率が 0%→19% に上昇。前回の「再発率ゼロ」は短期間の成果であり、持続できていない
- MTTR は引き続き優秀。問題発見→対策のサイクルは高速に機能している
- 再発率上昇の主因: 行動規範形式の対策が異なる文脈で再発すること、フロー組み込みがスキップ可能な設計であること

### Toil

| Toil 候補 | 頻度 | 自動化可能性 | 推奨 |
|----------|------|------------|------|
| 改善記録の品質管理（フォーマット、カテゴリ、検証セクション） | 記録毎 | 中 | テンプレートバリデーションの自動化 |
| review-and-merge スキルのメンテナンス | 週 1-2 回 | 低 | 安定するまで手動メンテナンス継続 |
| プロセス文書の更新 | Issue 毎 | 低 | 判断を伴うため自動化困難 |
| レトロ Issue の対象期間算出 | 週次 | 高 | GitHub Actions の対象期間を前回レトロ日基準に修正 |

前回 Toil 候補の対応状況:
- ✅ 改善記録のカテゴリ付与 → テンプレート化完了（ただし非標準フォーマット 3 件が発生）
- ✅ 検証セクション追記 → 80% 目標達成
- ⚠️ base branch 同期確認 → 組み込み済みだが 1 件スキップ（再発）
- 進行中: Epic 完了時のロードマップ更新
- ✅ 大型ファイル分割 → #493 完了（3501→1882+1289）

### エラーバジェット

| カテゴリ | 件数 | 比率 |
|---------|------|------|
| Feature（攻め） | 0 | 0% |
| Maintain/Improve（守り） | 19 | 95% |
| Fix | 1 | 5% |

前回比: Feature 36%→0%（-36pt）、Maintain/Improve 60%→95%（+35pt）

所見: Feature 比率が 36%→0% に急落。Phase 2-3 完了後、完全に品質改善・プロセス整備フェーズに入っている。Phase 間の移行期としては理解できるが、Feature ゼロの持続は Discovery 停滞のリスク。

---

## 4. アクションアイテム

| 優先度 | カテゴリ | アクション | 根拠 |
|--------|---------|---------|------|
| High | Improve | 実行ギャップ再発（50%）の構造的対策を検討する。特に「即座の対策」パターン（19%）への対策 | 実行ギャップ 9%→50%、即座の対策 9%→19%。#392 の効果がメタレベルに波及していない |
| High | Feature | Phase 2-4 ワークフローデザイナーの設計に着手する | Feature 0%。前回レトロからの持ち越し |
| Medium | Improve | 改善記録テンプレートのバリデーション（カテゴリ/失敗タイプの標準フォーマット遵守） | 3 件の非標準フォーマットがデータ品質を低下 |
| Medium | Improve | レトロ Issue 自動生成の対象期間算出ロジックを修正する | Issue #562 の対象期間が既にカバー済みだった |
| Low | Maintain | オープン Issue 32 件の優先度トリアージ | 18→32 に急増。低優先度 Issue の棚卸しが必要 |

---

## セルフレビュー記録

| ループ | 観点 | 修正内容 |
|-------|------|---------|
| 1回目 | データ正確性 | カテゴリ集計: 非標準フォーマット 3 件を最も近い標準カテゴリにマッピングし、注記を追加。件数合計 16 件を確認 |
| 1回目 | 解釈妥当性 | 「実行ギャップ再発」の解釈を検証。コード実装 vs メタレベル（改善記録、プロセス運用）の区別を追記。#392 の効果否定ではなくスコープ限定と解釈を修正 |
| 1回目 | アクション根拠 | 全アクションがデータに紐づいていることを確認。修正なし |

## 総合所見

前回レトロ（02-13）の「#392 成果物要件化の効果実証」は、コード実装領域では引き続き有効。しかし、実行ギャップの急増（9%→50%）と参照漏れの再出現（0%→19%）は、#392 の効果スコープが限定的であることを示している。

構造的な課題: 成果物要件化は「成果物として検証可能な領域」では効果が高いが、「プロセスの実行（手順の遵守、確認の実施）」では効果が限定的。フロー組み込み（review-and-merge スキル等）も、手順がスキップ可能な設計では再発を防げない。

次のフォーカス:
1. 即座の対策パターン（19%）への構造的対策 — 問題解決フレームワークの実行を検証可能な成果物要件にする
2. Phase 2-4 の設計着手 — Feature 実装ゼロが続くリスクの回避
3. 改善記録システムの品質管理 — テンプレートの標準フォーマット遵守

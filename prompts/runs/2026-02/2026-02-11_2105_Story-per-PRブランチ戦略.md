# Story-per-PR ブランチ戦略の確立

## 概要

Issue #452 に基づき、Story-per-PR ブランチ戦略を標準フローとして確立した。ADR-046 の作成、手順書・CLAUDE.md・運用設計書の更新、CI から develop トリガーの削除を実施。

## 実施内容

1. ADR-046 作成: Story-per-PR、Epic-per-PR、Git Flow の 3 選択肢を比較し、Story-per-PR を採用
2. 手順書（Issue 駆動開発）更新: Story 分解の品質基準（独立動作、後方互換、テスト完結、意味のある単位）、Story-per-PR 運用フロー、PR と Issue の紐付けルール、ブランチ命名規則を追加
3. CLAUDE.md 更新: ブランチ戦略セクションに Story-per-PR の方針を明記、PR 作成セクションの Issue 紐付けルールを更新
4. CI 更新: `ci.yaml` の push/pull_request トリガーから `develop` ブランチを削除
5. 運用設計書更新: ブランチ戦略テーブルに Story 単位の記述と ADR-046 への参照を追加

## 判断ログ

- Epic のクローズ方法: 全サブ Issue 完了後に手動クローズとした。`Closes` による自動クローズは Story PR でのみ使用
- ブランチ命名: Story 番号でのみブランチを作成し、Epic 番号でのブランチ作成を禁止とした
- 運用設計書の Mermaid gitGraph: 既に main + feature の 2 ブランチ構成で Story-per-PR と整合しているため変更不要と判断

## 成果物

### コミット

1. `aa2e83b` — ADR-046 作成、手順書・CLAUDE.md・CI・運用設計書の更新
2. `3a95623` — 改善記録 2 件と計画ファイルの追加

### 作成・更新ファイル

| ファイル | 種別 |
|---------|------|
| `docs/05_ADR/046_Story-per-PRブランチ戦略.md` | 新規 |
| `docs/04_手順書/04_開発フロー/01_Issue駆動開発.md` | 更新 |
| `CLAUDE.md` | 更新 |
| `.github/workflows/ci.yaml` | 更新 |
| `docs/02_基本設計書/04_運用設計.md` | 更新 |
| `prompts/improvements/2026-02/2026-02-11_2036_Issue精査フローに破棄パスが未定義.md` | 新規（既存） |
| `prompts/improvements/2026-02/2026-02-11_2200_Epic単位PRによるサブIssueクローズ漏れ.md` | 新規（既存） |

# 実行ギャップ構造的対策

## 概要

レトロスペクティブ（2026-02-16）で検出された実行ギャップ急増（9%→50%）への構造的対策を実装した。8 件の実行ギャップを分析し、3 つの構造パターンを特定。「問題の性質分類」という新しい必須フィールドと routing table を導入し、問題の性質に応じた適切なアプローチの選択を成果物要件化した。

## 実施内容

### 分析

8 件の実行ギャップ改善記録を分析し、以下の 3 パターンを特定:

| パターン | 件数 | 内容 |
|---------|------|------|
| A: 参照漏れ at meta-level | 3 | テンプレート/定義を参照せず改善記録を作成 |
| B: 即座の対策 | 3 | 問題の性質を分類せず対策を設計 |
| C: 実行フロー漏れ | 2 | スキル手順がスキップされる（対策済み） |

#392（行動規範→成果物要件転換）はコード実装領域では有効だが、プロセス運用には波及していないことを確認。

### 実装（3 Phase）

Phase 1: `prompts/improvements/README.md`
- 「対策設計の前提: 問題の性質分類（必須）」セクションを新設
- 問題の性質（技術的/プロセス的/思考的）の定義と routing table を追加
- 対策案の妥当性チェックを追加（#547 統合）
- 照合手順に問題の性質の照合を追加
- 記載例を更新

Phase 2: `.claude/rules/problem-solving.md`
- 「問題の性質による前段分類」セクションを適用場面の後に追加
- 技術的問題 → troubleshooting.md、プロセス的/思考的 → 本フレームワークの routing を明確化

Phase 3: `.claude/skills/wrap-up/SKILL.md`
- 改善記録作成ステップを 3→7 に拡充
- README Read 参照、問題の性質確認、照合手順実施、docs.md 自己チェックを追加（#550 統合）

### サブスーム

- #547（対策妥当性チェックリスト）→ Phase 1 で README に統合しクローズ
- #550（改善記録作成時の自己チェック）→ Phase 3 で wrap-up に統合しクローズ

## 判断ログ

- 問題の性質 3 分類（技術的/プロセス的/思考的）は改善記録 8 件の帰納的分析から導出。既存の troubleshooting.md と problem-solving.md の適用範囲と整合する
- wrap-up の「README Read」は行動規範に近いが、「問題の性質」必須フィールドが成果物要件として検証可能。Read は手段、成果物で検証する設計
- Pattern C（実行フロー漏れ）は #518 closed + docs.md 修正済みのためスコープ外とした

## 成果物

コミット:
- `5b160a8` Add problem nature classification and routing table to improvement records
- `bb91814` Add problem nature pre-classification to problem-solving framework
- `0c078f1` Enhance wrap-up improvement record steps with README reference and validation

変更ファイル:
- `prompts/improvements/README.md`（+33/-3）
- `.claude/rules/problem-solving.md`（+14）
- `.claude/skills/wrap-up/SKILL.md`（+7/-3）

クローズ Issue: #547, #550

# テストピラミッド全層の計画プロセス追加

## 概要

改善記録 #448 の対策として、計画ファイル作成時にテストピラミッドの全層（ユニット/ハンドラ/API/E2E）を体系的に検討するプロセスをドキュメントに追加した。

## 実施内容

4つのプロセスドキュメントを更新し、テスト層の暗黙的な省略を構造的に防止する仕組みを導入した。

1. `.claude/rules/zoom-rhythm.md` — 計画ファイルの必須要素に「テストリスト（各 Phase）」セクションを追加。テスト層の明記と「該当なし」の明示を必須化
2. `docs/04_手順書/04_開発フロー/02_TDD開発フロー.md` — テスト層の明記ガイダンスと各層の役割テーブルを追加。テストリスト例をテスト層付き Phase 分割形式に更新
3. `docs/04_手順書/04_開発フロー/01_Issue駆動開発.md` — 品質チェックリストのテストセクションに「テスト層の網羅性」項目を追加
4. `.claude/skills/review-and-merge/SKILL.md` — Step 4 に「修正に対応するテスト確認」ステップを追加

## 判断ログ

- テスト層の検討タイミングは「計画ファイル作成時（設計段階）」とした。テスト層の選択は設計判断であり、実装フェーズに入ってからでは遅い。この判断は改善記録で確定済み
- テスト層の判断基準を具体的に記載した: HTTP ハンドラがあればハンドラテスト、公開 API エンドポイントがあれば API テスト、UI 操作を伴うなら E2E テスト

## 成果物

### コミット

| コミット | 内容 |
|---------|------|
| `c34077b` | テストピラミッド全層の計画・品質プロセスへの追加 |

### 作成・更新ファイル

- `.claude/rules/zoom-rhythm.md`（更新）
- `docs/04_手順書/04_開発フロー/02_TDD開発フロー.md`（更新）
- `docs/04_手順書/04_開発フロー/01_Issue駆動開発.md`（更新）
- `.claude/skills/review-and-merge/SKILL.md`（更新）

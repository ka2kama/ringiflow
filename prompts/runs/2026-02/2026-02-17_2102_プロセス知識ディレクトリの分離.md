# プロセス知識ディレクトリの分離

## 概要

#460: `prompts/` ディレクトリからプロセス知識（`improvements/`, `reports/`）を新しいトップレベルディレクトリ `process/` に分離し、三層知識構造（docs/prompts/process）を確立した。

## 実施内容

### Phase 1: ファイル移動 + README 作成

- `git mv` で `prompts/improvements/` → `process/improvements/`、`prompts/reports/` → `process/reports/` を移動（82 ファイル）
- `process/README.md` を新規作成
- 移動先 README のパス例示を更新
- sibling 参照の修正（`improvements/` → `recipes/` の1件）
- `prompts/README.md` のスコープ説明を更新

### Phase 2: 外部参照の更新

約21ファイルの `prompts/improvements` → `process/improvements`、`prompts/reports` → `process/reports` のパス更新:

- CLAUDE.md（ドキュメント階層テーブル、改善記録パス等）
- `.claude/rules/`（problem-solving, docs, latest-practices, data-store, troubleshooting）
- `.claude/skills/`（wrap-up, assess, retro, review-and-merge）
- `scripts/check-improvement-records.sh`
- `.github/workflows/`（monthly-assess, weekly-retro）
- `docs/` 配下（基本設計書、手順書、ADR、ナレッジベース）
- `README.md`

### Phase 3: ADR 作成

ADR-050「プロセス知識ディレクトリの分離」を作成。4つの選択肢を比較し、選択肢 D（improvements + reports 両方を process/ に移動）の採用理由を記録。

## 判断ログ

- 4つの選択肢（A: improvements のみ移動、B: prompts リネーム、C: README のみ、D: 両方移動）から D を採用。概念的クリーンさと変更コストのバランスで最適
- 歴史的記録（`prompts/runs/`, `prompts/plans/` 内の旧パス言及）は更新しない判断。git blame の有用性低下を回避
- 相対リンクの影響分析: 移動元と移動先が同深度（2階層）のため大半はそのまま動作。sibling 参照1件のみ修正

## 成果物

### コミット

- `c167579` Move improvements/ and reports/ from prompts/ to process/
- `52b6e14` Update all external references from prompts/ to process/
- `2962882` Add ADR-050: Separation of process knowledge directory
- `1990c77` Add plan file for process knowledge directory separation

### 作成・更新ファイル

- `process/README.md`（新規）
- `docs/70_ADR/050_プロセス知識ディレクトリの分離.md`（新規）
- `prompts/plans/460_process-knowledge-directory-separation.md`（新規）
- 外部参照更新: 約21ファイル

### PR

- #605 (Draft)

## 議論の経緯

- 4つのアプローチを提示し、ユーザーが選択肢 D（improvements + reports 両方移動）を選択
- 移動先として `process/` 配下にまとめることをユーザーが承認
- 計画の承認後、main rebase してから実装を開始

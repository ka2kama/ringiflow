# ダッシュボード KPI カードデザイン

## 概要

Issue #890 に基づき、ダッシュボード画面の KPI カード（統計情報表示）にアイコンを追加し、デザインガイドラインに沿ったスタイルに改善した。

## 実施内容

### 1. Issue 精査と基盤構築

- Issue #890 の精査を実施し、Issue コメントに結果を記録
- ブランチ `feature/890-dashboard-kpi-card-design` を作成
- Draft PR #905 を作成

### 2. 設計（plan mode）

デザインガイドラインとの突合を行い、4 つの設計判断を記録:

1. アイコン選定: 既存アイコン（`tasks`, `workflows`）の流用 + `checkCircle` 新規追加
2. アイコンサイズ: `h-5 w-5` に統一（3 カード間の視覚的一貫性）
3. カードレイアウト: 中央揃え + アイコン上部配置
4. トランジション: `transition-shadow` → `transition-colors`（ガイドライン準拠）

### 3. 実装

- `Component/Icons.elm`: `checkCircle` アイコン追加（Lucide CircleCheck、`h-5 w-5`）
- `Page/Home.elm`:
  - `viewStatCardLink` の config 型に `icon : Html Msg` と `iconBgClass : String` フィールド追加
  - アイコン描画（`flex justify-center` + `textColorClass` で色継承）
  - `transition-shadow` → `transition-colors` に変更
  - `TODO(human)` コメント削除

### 4. デザイン改善（目視確認後）

目視確認でアイコンの視覚的存在感が不足していたため、背景サークルを追加:
- `rounded-full p-2` + `iconBgClass`（`bg-*-100` シェード）でアイコンを囲む
- アイコンの `mb-2` → `mb-3` で数値との間隔を調整

## 判断ログ

- アイコンサイズ: Plan エージェントが `checkCircle` を `h-6 w-6` で提案したが、既存アイコン（`h-5 w-5`）との混在は同一カード行で不整合。`h-5 w-5` に統一し、シンプルさと視覚的一貫性を優先
- トランジション: `transition-shadow` と `transition-colors` の Tailwind v4 での `transition-property` 競合を回避するため、`transition-colors` のみに統一。シャドウのアニメーション喪失はガイドライン準拠を優先して許容
- アイコンサイズのパラメータ化は Rule of Three で見送り。現時点では 1 ユースケースのみ
- 目視確認後、アイコンに `rounded-full bg-*-100 p-2` の背景サークルを追加。`-100` シェードはカード背景の `-50` より一段濃く、視覚的階層を形成する

## 成果物

### コミット

- `#890 WIP: Implement KPI card design for dashboard`（Draft PR 用空コミット）
- `#890 Add icons and improve styling for dashboard KPI cards`
- `#890 Add icon background circles to KPI cards`

### 作成・更新ファイル

- `frontend/src/Component/Icons.elm`: `checkCircle` 追加、モジュール docstring 更新
- `frontend/src/Page/Home.elm`: KPI カードデザイン改善
- `prompts/plans/890_dashboard-kpi-card-design.md`: 計画ファイル
- PR #905: 品質確認セクション記載済み

# 改善記録の検証セクション運用化

Issue: #375
PR: #376

## 概要

改善記録の検証セクション追記を「行動規範」から「成果物要件」に転換し、改善プロセスのフィードバックループを閉じる仕組みを構築した。あわせて対策実行済みの既存記録18件にバックフィルを実施した。

## 実施内容

### Issue 対策案の精査

Issue #375 には3つの対策案が提示されていた。問題解決フレームワークで精査し、以下の判断を行った:

| Proposal | 内容 | 判断 | 理由 |
|----------|------|------|------|
| 1 | Issue クローズ時のチェックリストに追加 | 採用 | 成果物要件化パターンに合致。振り返りステップに組み込む |
| 2 | 定期的な棚卸し（月次） | 不採用 | 構造的強制力が弱い（行動規範のまま） |
| 3 | 既存記録のバックフィル | 採用（スコープ限定） | ルールファイル等から参照されている記録のみ |

### 振り返りステップへの検証フロー追加

`docs/04_手順書/04_開発フロー/01_Issue駆動開発.md` の Step 9 に「改善記録の検証」サブセクションを追加。Issue 番号で `prompts/improvements/` を grep し、関連する改善記録があれば検証セクションを追記するフローを定義した。

振り返りのスキップ条件にも「改善記録の検証は省略しない」注記を追加。

### README.md の検証ワークフロー明確化

`prompts/improvements/README.md` の検証セクションを拡充。追記タイミングを明確化し、手順書へのリンクを追加した。

### バックフィル（18件）

ルールファイル・手順書・CLAUDE.md から「改善の経緯」として参照されている改善記録18件に検証セクションを追記。各記録の対策実行状態と再発有無を確認して記載した。

### justfile の修正

`test-rust` レシピの `--doc --doc` フラグ重複バグを修正。

## 判断ログ

- Proposal 2（月次棚卸し）を不採用とした。理由: このプロジェクトの核となるパターン「行動規範は機能しない、成果物要件化すれば機能する」に照らすと、定期棚卸しは行動規範の域を出ない。Proposal 1 で Issue クローズ時のフローに組み込めば不要
- バックフィルのスコープを「ルールファイル等から参照されている記録のみ」に限定した。理由: 全44件の調査は作業量に対して効果が薄い。参照されている記録は対策実行済みの確実な証拠がある
- 振り返りコメントへの統合ではなく、別サブセクションとして追加した。理由: 振り返りコメントは Issue 上の一時的コメント、検証セクションはローカルファイルへの永続的追記で、アクションの性質が異なる

## 成果物

### コミット

| コミット | 内容 |
|---------|------|
| `672877e` | Issue 駆動開発 Step 9 に改善記録の検証ステップを追加 |
| `1aa7fc3` | README.md の検証ワークフロー明確化 |
| `4460030` | 改善記録18件に検証セクションをバックフィル |
| `0272320` | 本 Issue の改善記録に検証セクション追記 |
| `51ba0dd` | justfile の `--doc --doc` バグ修正 |

### 変更ファイル

- `docs/04_手順書/04_開発フロー/01_Issue駆動開発.md` — Step 9 に検証フロー追加
- `prompts/improvements/README.md` — 検証ワークフロー明確化
- `prompts/improvements/2026-01/*.md` × 3件 — バックフィル
- `prompts/improvements/2026-02/*.md` × 16件 — バックフィル + 本 Issue 改善記録
- `justfile` — `--doc --doc` バグ修正

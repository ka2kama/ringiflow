# ISO/IEC 25010 品質モデル採用

## 概要

品質の追求で使用していた「外部品質 / 内部品質」の分類を、ISO/IEC 25010:2023 のプロダクト品質モデルに置き換えた。ギャップ分析を通じて、現在の仕組みで実際にカバーできている品質特性を見極め、「現在の重点」と「段階的に取り組む」に分離した。

## 背景と目的

CLAUDE.md に記載されていた品質の定義:

> 外部品質（信頼性、パフォーマンス、セキュリティ）と内部品質（可読性、保守性、テスタビリティ）

この分類は ISO 25010 に基づくものではなく、網羅性に欠けていた。国際規格をベースにすることで、品質特性の体系的な把握と優先度判断が可能になる。

## 実施内容

### 1. ISO/IEC 25010:2023 の調査

2023 版の 9 特性と副特性を調査:

| 品質特性 | 副特性 |
|---------|--------|
| 機能適合性 | 完全性、正確性、適切性 |
| 性能効率性 | 時間効率性、資源効率性、容量 |
| 互換性 | 共存性、相互運用性 |
| 操作性 | 認識適切性、学習性、操作容易性、エラー防止、ユーザーエンゲージメント、包括性、ユーザー支援、自己記述性 |
| 信頼性 | 無障害性、可用性、障害許容性、回復性 |
| セキュリティ | 機密性、完全性、否認防止、責任追跡性、真正性、耐性 |
| 保守性 | モジュール性、再利用性、解析性、修正性、試験性 |
| 柔軟性 | 適応性、拡張性、設置性、置換性 |
| 安全性 | 運用制約、リスク識別、フェイルセーフ、危険警告、安全統合 |

### 2. ギャップ分析

6 つの候補品質特性について、既存の仕組みでのカバレッジを評価:

| 品質特性 | カバレッジ | 根拠 |
|---------|-----------|------|
| 保守性 | ◎ | TDD、設計レビュー、リファクタリング、設計原則レンズ、コードレビュー |
| 機能適合性 | ○ | TDD + API テスト、OpenAPI 仕様突合 |
| セキュリティ | ○ | テナント分離設計、認証設計あり。ただしセキュリティテストは弱い |
| 信頼性 | △ | 設計レベルのみ。障害許容性テスト、回復性テストなし |
| 操作性 | △ | Elm の型安全性に依存。UX テスト、アクセシビリティ評価なし |
| 性能効率性 | × | ベンチマーク、負荷テスト、プロファイリングなし |

### 3. 段階分けの決定

ギャップ分析の結果を踏まえ、仕組みのない品質特性を「重点」と呼ぶのは不正確と判断。現在の重点（仕組みあり）と段階的に取り組む特性（Phase 2〜）に分離した。

### 4. ナレッジベース作成

ISO/IEC 25010:2023 の全容をナレッジベースに記録。9 特性と全副特性、2011 版との差分、プロジェクトでの使用方法を含む。

## 設計上の判断

### 品質特性の段階分け

- 選択肢 A: 6 つすべてを「重点」として並列に掲げる
- 選択肢 B: 「現在の重点」と「段階的に取り組む」に分離する（採用）
- 選択肢 C: カバレッジ列を追加して現状を明示する

B を採用。CLAUDE.md は AI への行動指針であり、仕組みのない品質特性を「重視せよ」と指示しても実効性がない。指示は実行可能な範囲に絞ることで精度が上がる。

### セキュリティの位置づけ

テストは弱いが、設計レベルでは仕組みがある（テナント分離、認証設計、セキュリティ要件定義）ため「現在の重点」に含めた。

## 成果物

### コミット

| コミット | 内容 |
|---------|------|
| `8d2e265` | ISO/IEC 25010 の初期導入（CLAUDE.md、README.md、problem-solving.md） |
| `6a23351` | 品質特性の段階分け |
| `d2f9558` | ナレッジベース記事追加 |

### 作成・更新ファイル

| ファイル | 変更内容 |
|---------|---------|
| `CLAUDE.md` | 品質の追求セクションを ISO 25010 ベースに書き換え、段階分け |
| `README.md` | 品質の追求の記述を ISO 25010 参照に更新 |
| `.claude/rules/problem-solving.md` | Want の記述を ISO 25010 ベースに更新 |
| `docs/06_ナレッジベース/methodology/ISO25010.md` | 新規作成 |
| `docs/06_ナレッジベース/README.md` | カテゴリ一覧に ISO 25010 を追加 |

### PR

- [PR #328](https://github.com/ka2kama/ringiflow/pull/328)（Draft）

## 議論の経緯

### 品質記述の不備の発見

ユーザーが「外部品質 / 内部品質」の分類に違和感を指摘。構成要素がこれだけではないという問題意識から、ISO 25010 の採用を検討。3 つの選択肢（ISO 25010 参照、独自分類を拡充、現状維持 + 注記）から ISO 25010 参照を選択した。

### ギャップ分析の必要性

ISO 25010 の 6 特性を「重点」として掲げた後、ユーザーから「既存の仕組みで実際にカバーできているか」という問いがあった。調査の結果、仕組みが充実しているのは保守性と機能適合性のみで、残りは設計レベルか未着手という実態が判明した。

### 段階分けの合意

MVP フェーズでギャップがあるのは当然だが、仕組みのない品質特性を「重点」と称するのは不正確。「現在の重点」（保守性、機能適合性、セキュリティ）と「段階的に取り組む」（信頼性、操作性、性能効率性）に分けることで合意した。

## 学んだこと

- ISO/IEC 25010:2023 では 2011 版から大きな改訂があった。Safety の新規追加、Usability → Interaction Capability（副特性 8 つに拡充）、Portability → Flexibility（Scalability 追加）
- 品質特性を掲げるだけでは意味がない。「設計」「実装」「検知」の3つの仕組みが揃って初めて品質特性を管理できる
- AI への指示は実行可能な範囲に絞ることが重要。仕組みのない品質特性を「重視せよ」と書いても実効性がない

## 次のステップ

- PR #328 を Ready for Review にする
- Phase 2 以降で信頼性・操作性の仕組みを整備する際に、このギャップ分析を起点にする

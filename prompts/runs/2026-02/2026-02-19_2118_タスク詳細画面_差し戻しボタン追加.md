# タスク詳細画面に差し戻しボタンを追加

Issue: #712 / PR: #716

## 概要

タスク詳細画面（`Page/Task/Detail.elm`）に差し戻し（Request Changes）ボタンを追加した。申請詳細画面（`Page/Workflow/Detail.elm`）の実装パターンを踏襲した配線コード。

## 実施内容

### 差し戻し機能の追加（`Page/Task/Detail.elm`）

`Page/Workflow/Detail.elm` の差し戻しパターンを踏襲し、以下を追加:

1. `PendingAction` 型に `ConfirmRequestChanges WorkflowStep` を追加
2. `Msg` 型に `ClickRequestChanges WorkflowStep` と `GotRequestChangesResult` を追加
3. `update` 関数にハンドラを追加（ClickRequestChanges → ConfirmAction → API 呼び出し → 結果処理）
4. `requestChangesStep` ヘルパー関数を追加（`rejectStep` と同じ構造）
5. `viewApprovalButtons` に差し戻しボタンを追加（`Button.Warning`、承認と却下の間に配置）
6. `viewConfirmDialog` に `ConfirmRequestChanges` ケースを追加（`ConfirmDialog.Caution` スタイル）

### プロセス改善

セッション開始時に Issue 番号指定に対して不要な着手確認をした問題を検出し、別 PR #715（Issue #714）で対応した。

## 判断ログ

特筆すべき判断なし（既存パターンの踏襲のみ）。

## 成果物

コミット:

- `069bb39` #712 WIP: Add request changes button to task detail page
- `b71116d` #712 Add request changes button to task detail page
- `9be0ecb` #712 Add implementation plan for request changes button

変更ファイル:

- `frontend/src/Page/Task/Detail.elm` — 差し戻し機能追加
- `prompts/plans/parallel-wobbling-canyon.md` — 実装計画

## 議論の経緯

- Issue 番号指定時の不要な着手確認が問題として検出された。手順書（`01_Issue駆動開発.md`）に「AI エージェントの着手トリガー」セクションを追加する改善を別 PR で先行実施した。

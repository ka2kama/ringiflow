# デザイントークン体系化

Issue: [#611](https://github.com/ka2kama/ringiflow/issues/611)
PR: [#616](https://github.com/ka2kama/ringiflow/pull/616)

## 概要

Epic #445「デザイン・UI/UX の品質をベストプラクティス水準に引き上げる」の Story 1 として、デザイントークンの体系化を実施した。`styles.css` にプロジェクトのデザイン語彙（タイポグラフィ、シャドウ、角丸、テキストカラー）をコメントとして明文化し、唯一の `rounded-xl` 使用を `rounded-lg` に統一した。

## 実施内容

### Epic 化と Story 分割

- Issue #445 に `type:epic` ラベルを付与し、以下の 5 つの Story Issue を作成した:
  - #611: デザイントークン体系化
  - #612: 見出し階層とタイポグラフィの統一
  - #613: 状態表示パターンの共通化（Empty/Error state）
  - #614: マイクロインタラクションの改善
  - #615: WCAG 2.1 AA 対応強化

### デザインガイドライン文書化（Phase 1）

`frontend/src/styles.css` のファイルヘッダーコメントにデザイン語彙を追加:
- タイポグラフィ 6 パターン（ページタイトル、セクション見出し、サブセクション、テーブルヘッダー、UI 要素、KPI 数値）
- シャドウ 3 段階（hover:shadow-md、shadow-lg、shadow-xl）
- 角丸 2 種（rounded-lg、rounded-full）
- テキストカラー 3 段階（secondary-900/700/500）

### `rounded-xl` → `rounded-lg` 統一（Phase 2）

`frontend/src/Page/Home.elm` L168 の KPI カードで唯一使用されていた `rounded-xl` を `rounded-lg` に変更。他 66 箇所の `rounded-lg` と一貫性を確保した。

## 判断ログ

- Tailwind v4 デフォルト値（shadow, border-radius, typography）を `@theme` で再宣言しない方針を採用した。理由: (1) デフォルト値と同一で冗長、(2) Tailwind アップデート時に値が乖離するリスク、(3) `--text-*--line-height` ペア構造を壊す可能性。代わりにコメントで文書化する
- `rounded-xl`（12px）→ `rounded-lg`（8px）統一: 1 箇所のみの例外を残すよりも 66 箇所の主流に合わせる方が一貫性が高い。視覚的変化は軽微（角丸 4px 縮小）

## 成果物

### コミット

- `af14dcf` #611 Systematize design tokens with documentation and rounded-lg unification

### 作成・更新ファイル

- `frontend/src/styles.css` — デザインガイドラインコメント追加、Layout セクションコメント整理
- `frontend/src/Page/Home.elm` — `rounded-xl` → `rounded-lg` 統一
- `prompts/plans/611_design-tokens.md` — 計画ファイル

## 議論の経緯

- Epic 化のプロセスについてユーザーから指摘を受けた。Story 1 の実装に直接着手しようとしたが、Issue 駆動開発手順に従い Epic 化と Story 分割を先に行うべきだった。指摘を受けて Epic 化を先行実施した

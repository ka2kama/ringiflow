# 品質ゲートのローカル実行範囲変更

Issue: #979
PR: #980
日時: 2026-02-28

## 概要

品質ゲート（dev-flow-issue.md 6.1）の必須チェックを `just check-all` から `just check` に変更した。API テスト・E2E テスト・セキュリティ監査は CI で網羅的に実行する。

## 判断ログ

### 品質ゲートの境界

- `just check`（lint + ユニットテスト + 統合テスト）を品質ゲートの必須ステップとする
- `just check-pre-push`（DB 不要版）は軽量すぎる（統合テストが含まれない）ため不採用
- API テスト・E2E テストは品質ゲートの必須ステップから外すが、変更内容に応じたローカル実行は通常通り行う

### 根拠

- ローカルの `just check-all` は逐次実行で 10-20 分。CI は並列実行で ~5 分
- 品質ゲートの 6.7（`gh pr checks --watch`）で CI 通過を確認するフローは既に存在
- 品質ゲートとして毎回フルスイートを逐次実行する必要性は薄い

## 変更ファイル

- `docs/05_ADR/059_品質ゲートのローカル実行範囲変更.md`（新規）
- `.claude/rules/dev-flow-issue.md`（6.1, 6.5）
- `.claude/rules/dev-flow-tdd.md`（Phase 完了時チェック）
- `.claude/rules/zoom-rhythm.md`（PR 本文フォーマット）
- `.claude/rules/api.md`（AI エージェントへの指示）
- `.claude/skills/review-and-merge/SKILL.md`（レビュー後チェック）
- `.github/pull_request_template.md`（PR テンプレート）
- `CLAUDE.md`（開発コマンド表）
- `docs/04_手順書/04_開発フロー/02_TDD開発フロー.md`（フローチャート、レビュー指摘対応）

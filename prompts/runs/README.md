# prompts/runs/

このディレクトリには、AI エージェントとのセッション記録を保存する。

## ディレクトリ構造

月ごとのサブディレクトリに整理する。

```
prompts/runs/
├── YYYY-MM/
│   ├── YYYY-MM-DD_NN_<トピック>.md
│   └── ...
└── README.md
```

例: `prompts/runs/2026-01/2026-01-17_01_Phase0_Elm構築.md`

## ファイル命名規則

```
YYYY-MM-DD_NN_<トピック>.md
```

- `NN`: 同日内の連番（`01_`, `02_`, ...）
- `<トピック>`: セッションの主題（例: `Phase0_Elm構築`）

連番は月内のサブディレクトリ内で一意になるよう管理する。

## セッション記録の構成

| セクション | 内容 |
|-----------|------|
| 概要 | セッションで達成したことの要約 |
| 背景と目的 | なぜこの作業が必要だったか |
| 実施内容 | 具体的な作業内容 |
| 成果物 | コミット、作成/更新ファイル |
| 設計判断と実装解説 | 学習価値のある設計判断の解説（該当する場合） |
| ユーザープロンプト（抜粋） | 学習価値のある指示の記録 |
| 学んだこと | セッションで得た知見 |
| 次のステップ | 今後の作業（該当する場合） |

## ユーザープロンプトの記載ルール

### 形式

引用形式（`> ...`）で記載する。

```markdown
## ユーザープロンプト（抜粋）

> 要件定義書や設計書に記載されたリポジトリの理念・目的に最も合致する選択肢はどれですか？

> 理念・目的に最も合致する構成で設計書と ADR を更新してください。
```

### 文体

丁寧な文体で記載する。元の入力がカジュアルでも、以下のように整える。

| 元の入力 | 整形後 |
|---------|--------|
| `pnpm で` | `パッケージマネージャーは pnpm を使用してください。` |
| `問題ない？` | `問題ありませんか？` |
| `〜して` | `〜してください。` |

言葉が足りない場合は文脈を補完する。

### 取捨選択

学習・知見に繋がるプロンプトのみ記載する。

**記載する**:
- 設計判断を求める指示
- 技術的な質問
- 理念・方針に基づく判断の依頼
- 問題報告とその解決

**省略する**:
- 単純な応答（「はい」「続けて」など）
- ファイル名変更などの定型作業指示
- 確認への同意

## サニタイズ規則

セッションログは GitHub で公開されるため、以下の規則に従ってサニタイズする。

### 省略または伏せ字にする

| 対象 | 処理 |
|------|------|
| 認証情報（鍵、トークン、パスワード） | 完全に省略 |
| 個人を特定できる情報 | 省略または一般化 |
| 社内 URL、内部システム名 | 伏せ字（`[内部URL]`、`[システム名]`） |

### 表現を変換する

| 対象 | 処理 |
|------|------|
| カジュアルすぎる表現 | 丁寧語に整形（「文体」セクション参照） |
| 感情的・主観的な発言 | 技術的な内容に要約、または省略 |
| 文脈がないと誤解されうる発言 | 文脈を補足するか省略 |

### 表記を校正する

| 対象 | 処理 |
|------|------|
| 誤字・脱字 | 正しい表記に修正 |
| 漢字の誤り | 正しい漢字に修正 |
| 不要なひらがな | 漢字で書くべき箇所は漢字に修正 |
| 表記ゆれ | 文書内で統一 |

### ユーザープロンプトの取捨選択（強化）

「取捨選択」セクションに加え、以下も省略する:

- 雑談、私的な発言
- 感情表現（不満、愚痴など）
- 技術的判断に関係しない指示

**原則:** 技術的な学びに繋がる内容のみを記載する。


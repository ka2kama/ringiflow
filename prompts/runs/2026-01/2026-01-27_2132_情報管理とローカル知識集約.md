# 情報管理とローカル知識集約の方針導入

## 日時

2026-01-27

## 概要

GitHub Issues/PR と ローカルドキュメントの役割を明確に分離し、学習効果を最大化するための情報管理方針を導入した。

## 背景

- GitHub Projects、Issues、PR を使用しているが、Web 上に情報が散逸する懸念
- 検索性や LLM フレンドリーの観点から改善が必要
- 進捗管理や完了条件も「知見」として価値がある

## 決定事項

### ローカルファースト + GitHub は軽量に

| 場所 | 役割 | 記録するもの |
|------|------|-------------|
| GitHub Issues/PR | 一時的・ワークフロー用 | 作業追跡、進捗管理、CI 連携 |
| ローカル docs | 永続的・知識用 | 要件、設計判断、学び、パターン |

### 振り返りの仕組み化

- Issue テンプレートに「完了条件」を必須化
- Issue クローズ時に振り返りコメントを残す
- 重要な学びはローカルドキュメントに転記

### Issue の種類

| テンプレート | 用途 | DoD |
|-------------|------|-----|
| 機能追加 | 実装する機能、Story | 必須 |
| バグ報告 | 修正すべきバグ | 必須 |
| アイデア・メモ | 思いついたこと、後で検討 | 不要 |

## 成果物

### 新規作成

| ファイル | 内容 |
|---------|------|
| `.github/ISSUE_TEMPLATE/feature.yaml` | 機能追加用テンプレート |
| `.github/ISSUE_TEMPLATE/bug.yaml` | バグ報告用テンプレート |
| `.github/ISSUE_TEMPLATE/idea.yaml` | アイデア・メモ用テンプレート |
| `.github/ISSUE_TEMPLATE/config.yaml` | テンプレート設定 |
| `docs/05_ADR/025_情報管理とローカル知識集約の方針.md` | ADR |

### 更新

| ファイル | 内容 |
|---------|------|
| `CLAUDE.md` | 情報管理の原則（ローカルファースト）を追加 |
| `docs/04_手順書/04_開発フロー/01_Issue駆動開発.md` | 振り返りセクションを追加 |
| `docs/04_手順書/02_プロジェクト構築/03_GitHub設定.md` | Labels セクションを追加 |
| `docs/04_手順書/01_開発参画/01_開発環境構築.md` | GitHub CLI (gh) を追加 |
| `justfile` | `setup-labels` タスク、`check-tools` に gh を追加 |

### 既存 Issue の改善

| # | タイトル | 改善内容 |
|---|---------|---------|
| #128 | Playwright E2E | 完了条件セクションを追加 |
| #123 | 内部API検討 | ゴールを「ADR 作成」に明確化 |
| #106 | テスト設計方針 | ゴールを「ADR 作成」に明確化 |
| #104 | 技術ノート分離 | 完了条件を整理 |
| #82 | MVP Epic | 関連 docs を追加 |

### GitHub 設定

- `idea` ラベルを作成

## 学び

### 「やること」vs「完了条件」

- 「やること」: 作業の列挙（HOW）
- 「完了条件」: 達成すべき状態（WHAT）
- 完了条件で書くと「何ができていれば終わりか」が明確になる

### 検討系 Issue のパターン

- ゴールを「ADR を作成する」と明確にすることで、終了条件が曖昧にならない
- 「検討する」だけでなく「決定して文書化する」までが完了条件

### Issue の「軽さ」と「重さ」を使い分ける

- Story/Task: 完了条件を明確に → 実行可能なタスク
- Idea/Memo: 軽量に記録 → 認知負荷を下げる
- GTD の「収集」フェーズと同じ発想

### インフラのコード化

- GitHub ラベルも「設定」の一部
- スクリプト化することで再現性・追跡性を確保
- `just setup-labels` で冪等に作成可能

### ルールの価値

- CLAUDE.md に「開発ツール追加時の必須対応」を書いておくことで、漏れに気づける
- 今回 `gh` が `check-tools` に入っていなかったことをユーザーが指摘 → ルールに従って修正

## 関連

- PR: #130
- ADR: [ADR-025: 情報管理とローカル知識集約の方針](../../../docs/05_ADR/025_情報管理とローカル知識集約の方針.md)

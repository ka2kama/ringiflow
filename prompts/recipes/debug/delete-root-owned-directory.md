# root 所有のディレクトリを削除する

## いつ使うか

- `rm -rf` でディレクトリを削除しようとして `Permission denied` が出たとき
- Docker がボリュームマウントで作成したディレクトリを削除したいとき
- `ls -la` で所有者が `root` になっているディレクトリがあるとき

## 手順

### Claude Code でやる場合

Claude Code は `sudo` を実行できないため、ユーザーに手動実行を依頼する。

### 手動でやる場合

```bash
# 所有者を確認
ls -la <親ディレクトリ>

# root 所有なら sudo で削除
sudo rm -rf <ディレクトリ>
```

所有権を変更して残したい場合:

```bash
sudo chown -R $(id -u):$(id -g) <ディレクトリ>
```

## なぜこの方法か

Docker はデフォルトで root として実行されるため、コンテナがホスト側に作成したファイル/ディレクトリは root 所有になる。一般ユーザーには削除権限がないため、`sudo` が必要。

## 関連

- [ナレッジベース: Docker ボリュームとファイル所有権](../../../docs/06_ナレッジベース/infra/Dockerボリュームとファイル所有権.md)

# ADR-009: MCPサーバー導入の見送り

## ステータス

承認済み（2026-01-15）

## コンテキスト

Claude Code を開発ツールとして使用する中で、MCP（Model Context Protocol）サーバーの導入を検討した。MCP は Claude Code に追加の能力を与える拡張機構で、GitHub API 直接操作、データベース接続、外部サービス連携などの機能を追加できる。

### 検討のきっかけ

- Anthropic 公式の MCP サーバーが npm で公開されており、信頼性が高い
- 他プロジェクトでの採用事例がある

### 現状の開発環境

Claude Code 標準機能:
- ファイル操作: Read / Edit / Write ツール
- コマンド実行: Bash ツール（git, cargo, elm, psql, redis-cli 等）
- 検索: Grep / Glob ツール
- Web: WebSearch / WebFetch ツール

## 検討した選択肢

### 選択肢 1: MCP サーバーを導入する

Anthropic 公式の MCP サーバー（filesystem, github, postgres 等）を導入し、Claude Code の機能を拡張する。

評価:
- 利点: GitHub API を直接呼び出せる、DB 操作がツール化される、将来的な拡張性
- 欠点: 設定の複雑化、依存関係の増加、学習コスト、Bash で同等のことが可能

### 選択肢 2: MCP サーバーを導入しない（現状維持）

Claude Code の標準機能のみで開発を継続する。

評価:
- 利点: シンプルな構成維持、追加の学習不要、Bash で十分な機能をカバー
- 欠点: 外部 SaaS 連携（Slack, Notion 等）が必要な場合は手動対応

### 比較表

| 観点 | 導入する | 導入しない |
|------|---------|-----------|
| 設定の複雑さ | 増加 | 現状維持 |
| 学習コスト | 発生 | なし |
| Git 操作 | MCP経由 | git コマンド（同等） |
| DB 操作 | MCP経由 | psql コマンド（同等） |
| ファイル操作 | MCP経由 | 標準ツール（同等） |
| 外部 SaaS 連携 | 可能 | 手動対応 |
| 依存関係 | 増加 | 現状維持 |

## 決定

**選択肢 2: MCP サーバーを導入しない** を採用する。

理由:

1. **標準機能で十分**: 現在の開発タスク（ファイル操作、Git、ビルド、テスト、DB 操作）はすべて Bash ツールおよび標準ツールでカバーできる
2. **シンプルさの維持**: プロジェクト理念「シンプルさを保つ（KISS）」に合致。必要十分な複雑さに留める
3. **導入コストに見合う価値がない**: MCP の主なメリット（API 直接呼び出し）は、Bash コマンドで代替可能であり、追加の価値が限定的
4. **現時点で外部 SaaS 連携の需要がない**: Slack, Notion 等との連携が必要になった時点で再検討すれば十分

### 将来の再検討トリガー

以下の状況が発生した場合、MCP 導入を再検討する:

- GitHub API を頻繁に使う自動化が必要になった場合
- 外部 SaaS（Slack, Notion, Jira 等）との連携が必要になった場合
- Claude Code の標準機能では実現困難なワークフローが出てきた場合

## 帰結

### 肯定的な影響

- 開発環境がシンプルなまま維持される
- 追加の設定ファイル（`.mcp.json`）が不要
- Claude Code の標準機能に習熟することで、ツールの理解が深まる
- 新規参画者の学習コストが増えない

### 否定的な影響・トレードオフ

- 外部 SaaS 連携が必要になった場合は手動対応が必要
- MCP エコシステムの発展を享受できない（ただし、必要になれば後から導入可能）

### 関連ドキュメント

- 設定: [`.claude/settings.json`](../../.claude/settings.json)

---

## 変更履歴

| 日付 | 変更内容 |
|------|---------|
| 2026-01-15 | 初版作成 |

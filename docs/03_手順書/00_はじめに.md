# 手順書

## 概要

本ディレクトリには、RingiFlow の開発・運用に必要な手順書を格納している。

## あなたが読むべき手順

### 新規参画者の場合

プロジェクトに新しく参加する場合は、以下の順序で進める。

| 順序 | 手順 | 内容 |
|:----:|------|------|
| 1 | [`01_開発参画/01_開発環境構築.md`](01_開発参画/01_開発環境構築.md) | 必須ツールのインストール |
| 2 | [`01_開発参画/02_プロジェクトセットアップ.md`](01_開発参画/02_プロジェクトセットアップ.md) | `just setup` でローカル環境を準備 |

**完了条件:**

```bash
# セットアップ成功
just setup
# 終了コード 0（エラーなし）

# バックエンドの動作確認
just dev-api &
sleep 3
curl -s http://localhost:13000/health | jq .
# {"status": "healthy", "version": "0.1.0"}
```

---

### プロジェクト構築時の場合

プロジェクトを1から構築する場合（通常は不要）、以下を参照する。

| 手順 | 内容 | 備考 |
|------|------|------|
| [`02_プロジェクト構築/01_CICD構築.md`](02_プロジェクト構築/01_CICD構築.md) | GitHub Actions CI の構築 | 構築済み |
| [`02_プロジェクト構築/02_Terraform基盤構築.md`](02_プロジェクト構築/02_Terraform基盤構築.md) | AWS インフラの構築 | Phase 1 以降 |
| [`02_プロジェクト構築/03_GitHub設定.md`](02_プロジェクト構築/03_GitHub設定.md) | GitHub リポジトリ設定 | 設定済み |

これらは初期構築時に一度だけ実行する手順であり、新規参画者が実行する必要はない。

---

### 運用手順

継続的な運用に関する手順。

| 手順 | 内容 |
|------|------|
| [`03_運用/01_AIプロンプト運用.md`](03_運用/01_AIプロンプト運用.md) | AI プロンプトの管理・運用 |

---

## ディレクトリ構成

```
03_手順書/
├── 00_はじめに.md              # この文書
├── 01_開発参画/                # 新規参画者向け
│   ├── 01_開発環境構築.md
│   └── 02_プロジェクトセットアップ.md
├── 02_プロジェクト構築/         # 初期構築時のみ（一度きり）
│   ├── 01_CICD構築.md
│   ├── 02_Terraform基盤構築.md
│   └── 03_GitHub設定.md
└── 03_運用/                    # 継続的な運用手順
    └── 01_AIプロンプト運用.md
```

---

## トラブルシューティング

各手順書に個別のトラブルシューティングセクションがある。
共通的な問題は以下。

### 権限エラー

```bash
# Docker ソケットへのアクセス権限がない場合
sudo usermod -aG docker $USER
# 再ログインが必要
```

### ポート競合

```bash
# ポート 15432 が使用中の場合
lsof -i :15432
# 競合するプロセスを停止するか、docker-compose.yml のポートを変更
```

### Cargo のビルドが遅い

```bash
# sccache を使用
cargo install sccache
echo 'export RUSTC_WRAPPER=sccache' >> ~/.bashrc
source ~/.bashrc
```

---

## 次のステップ

開発参画手順が完了したら、以下を参照して開発を開始する。

- 要件定義: [`docs/01_要件定義書/00_はじめに.md`](../01_要件定義書/00_はじめに.md)
- 設計・実装ロードマップ: [`docs/02_設計書/00_実装ロードマップ.md`](../02_設計書/00_実装ロードマップ.md)

---

## 変更履歴

| 日付 | 変更内容 | 担当 |
|------|---------|------|
| 2026-01-15 | 手順書を再構成: 開発参画/プロジェクト構築/運用に分離 | - |

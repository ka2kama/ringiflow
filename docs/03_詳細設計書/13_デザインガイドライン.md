# デザインガイドライン

Tailwind v4 デフォルトスケールを使用（`@theme` での再宣言は不要）。
プロジェクトのデザイン語彙として、使用するトークンとその役割を定義する。

デザイントークン定義（CSS カスタムプロパティ）: [`frontend/src/styles.css`](../../frontend/src/styles.css)
技術選定: [ADR-027 Tailwind CSS 導入](../05_ADR/027_Tailwind_CSS導入.md)

## デザインガイドライン

### タイポグラフィ（スタイル — マージン）

| 役割 | スタイル | マージン |
|------|---------|---------|
| ページタイトル | `text-2xl font-bold text-secondary-900` | `mb-6` |
| セクション見出し | `text-lg font-semibold text-secondary-900` | `mb-4` |
| サブセクション | `text-sm font-semibold text-secondary-700` | — |
| テーブルヘッダー | `text-xs font-medium uppercase tracking-wider text-secondary-600` | — |
| UI 要素 | `text-sm font-medium` | — |
| KPI 数値 | `text-3xl font-bold` | — |

マージン注記:
- ページタイトルの `mb-6` は、親 `div` またはタイトル自身のいずれかで適用
- ヘッダー + ボタン構成の場合は親 `div`（flex container）に `mb-6` を配置
- `space-y-6` コンテナ内のタイトルにはマージン不要（gap で間隔を確保）

### シャドウ

| トークン | 用途 |
|---------|------|
| `shadow-sm` | セクションカード（詳細ページの情報カード） |
| `hover:shadow-md` | インタラクティブカード（KPI カード） |
| `shadow-lg` | ドロップダウン、ポップオーバー |
| `shadow-xl` | モーダル、ダイアログ |

### 角丸

| トークン | 用途 |
|---------|------|
| `rounded-lg` | 標準（ボタン、カード、入力、アラート、パネル） |
| `rounded-full` | 丸型（バッジ、アバター、スピナー） |

### テーブル

| 要素 | スタイル |
|------|---------|
| ラッパー | `overflow-x-auto rounded-lg border border-secondary-200` |
| `thead` | `bg-secondary-50` |
| `th` | `px-4 py-3` + テーブルヘッダー（タイポグラフィ参照） |
| `tbody` | `divide-y divide-secondary-200 bg-white` |
| `tr`（データ行） | `hover:bg-secondary-50 transition-colors` |

### バッジ

| 要素 | スタイル |
|------|---------|
| 構造 | `inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium` |
| 色指定 | `bg-{color}-{shade} text-{color}-{shade} border-{color}-{shade}` |

### ボタン

| 要素 | スタイル |
|------|---------|
| フォーカス | `outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2` |

### フォーム入力

| 要素 | スタイル |
|------|---------|
| 構造 | `w-full rounded-lg border px-3 py-2 text-sm outline-none` |
| フォーカス | `focus-visible:ring-2 focus-visible:ring-{color}-500 focus-visible:border-{color}-500` |
| ボーダー（通常） | `border-secondary-300` |
| ボーダー（エラー） | `border-error-300` |

### セクションカード

| 種類 | スタイル |
|------|---------|
| セクション | `rounded-lg border border-secondary-200 bg-white shadow-sm` + `p-4` or `p-6` |
| 入れ子 | `rounded-lg border border-secondary-200 bg-white` + `p-3` or `p-4`（shadow なし） |

### テキストカラー（セマンティクス）

| トークン | 用途 |
|---------|------|
| `text-secondary-900` | プライマリテキスト（見出し、重要情報） |
| `text-secondary-700` | セカンダリテキスト（フォームラベル、説明文） |
| `text-secondary-500` | ターシャリテキスト（ヘルパー、ヘッダー） |

### アニメーション

| トークン | 用途 |
|---------|------|
| `animate-alert-in` | 通知アラート表示（fade-in + slide-down, 200ms） |
| `dialog-in` | 確認ダイアログ表示（scale-in + fade-in, 150ms）。CSS `#confirm-dialog[open] .dialog-content` で適用 |
| `backdrop-in` | ダイアログ backdrop 表示（fade-in, 150ms） |

### トランジション

`transition-colors` — hover を持つ全要素に付与する（色変化の滑らかさ）

### アクセシビリティ

`prefers-reduced-motion` — グローバルメディアクエリで一括無効化。アニメーション/トランジション/スクロールすべてに適用。

## デザイン原則

エンタープライズ SaaS として、以下の原則でビジュアルデザインを統制する。

1. 透明性 — UI はコンテンツを際立たせる背景であり、主役ではない
2. 一貫性 — 同じ役割の要素は同じ見た目。パターンの反復で認知負荷を下げる
3. 意図的な余白 — 余白は「空き」ではなく、情報のグルーピングと優先度を伝える手段
4. 最小の強調 — 重要な情報だけを際立たせる。装飾的な強調は避ける

## スペーシング（Tailwind 4px グリッド準拠）

### ページ

| 要素 | スペーシング |
|------|------------|
| タイトル〜コンテンツ | `mb-6`（ヘッダー要素に付与、または flex 親に `mb-6`） |
| セクション間 | `space-y-6`（標準）、`space-y-8`（大セクション区切り） |

### カード

| 要素 | スペーシング |
|------|------------|
| 内部パディング | `p-6`（標準）、`p-4`（コンパクト / 入れ子カード） |

### テーブル

セル間隔はテーブルセクション参照。

| 要素 | スペーシング |
|------|------------|
| テーブル下の件数表示 | `mt-4` |

### フォーム

| 要素 | スペーシング |
|------|------------|
| フィールド間 | `space-y-6`（親コンテナ） |
| ラベル〜入力 | `mb-1`（ラベル側） |
| 入力〜エラー文 | `mt-1`（エラー側） |
| ボタングループ | `flex gap-3` |
| フォーム幅 | `mx-auto max-w-lg`（標準）、`mx-auto max-w-2xl`（権限マトリックス等の複雑フォーム） |

### フィルタ

| 要素 | スペーシング |
|------|------------|
| フィルタ〜コンテンツ | `mb-4` |

### パンくず

| 要素 | スペーシング |
|------|------------|
| セパレータ | `mx-2` |
| コンテナ下 | `mb-4` |

### 4px グリッドの例外

Badge の `py-0.5`（2px）— 行内要素として視覚的に適切なため許容。

## レイアウト構成

### ページ骨格

| 要素 | 構成 |
|------|------|
| ヘッダー | `div` > `flex items-center justify-between mb-6`。左: `text-2xl font-bold text-secondary-900`（タイポグラフィ参照）、右: Button（CTA） |
| フィルタ | `div` > `mb-4`（検索バー、フィルタセレクト等） |
| コンテンツ | RemoteData パターンで分岐。NotAsked → 空、Loading → LoadingSpinner、Failure → ErrorState、Success → viewContent |

### コンテンツ構造

| ページ種別 | 構成 |
|-----------|------|
| 一覧ページ | テーブル + 件数表示（`mt-4 text-sm text-secondary-500`） |
| 詳細ページ | `space-y-6` で複数セクションカードを配置 |
| 新規/編集 | `mx-auto max-w-lg`（or `max-w-2xl`）+ `space-y-6` |

### グリッド

| 用途 | スタイル |
|------|---------|
| KPI カード | `grid gap-4 sm:grid-cols-3` |
| フィルタ群 | `grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3` |
| 定義リスト | `dl` > `grid grid-cols-[auto_1fr] gap-x-6 gap-y-2 text-sm` |

### インライン要素

| 用途 | スタイル |
|------|---------|
| ラベル + 値 | `flex items-center gap-2` |
| ボタングループ | `flex gap-3` |
| 区切り付き | `flex gap-3 pt-4 border-t border-secondary-100` |

## 色の使い分け

### Primary（Indigo）— ブランド・インタラクション

| 用途 | スタイル |
|------|---------|
| CTA ボタン | `bg-primary-500` → `hover:bg-primary-600` |
| リンクテキスト | `text-primary-600` → `hover:text-primary-700` |
| フォーカスリング | `focus-visible:ring-primary-500` |
| 選択状態の背景 | `bg-primary-50` |

使わない場面: ステータス表示（success/error/warning/info を使う）

### Secondary（Slate）— 構造・テキスト

| 用途 | スタイル |
|------|---------|
| テキスト階層 | 900（見出し）、700（ラベル）、500（ヘルパー）、400（無効） |
| ボーダー | 200（カード区切り）、300（入力フィールド） |
| 背景 | 50（ページ背景、テーブルヘッダー、ホバー、読み取り専用） |
| 中性ステータス | 100/200（下書き、キャンセル済み） |

### Success（Emerald）— 肯定・完了

| 用途 | スタイル |
|------|---------|
| ボタン | `bg-success-600`（承認、完了アクション） |
| バッジ | `bg-success-50 text-success-600 border-success-200` |
| アラート | `bg-success-50 text-success-700` |

### Error（Red）— 否定・危険

| 用途 | スタイル |
|------|---------|
| ボタン | `bg-error-600`（却下、削除アクション） |
| バッジ | `bg-error-50 text-error-600 border-error-200` |
| フォーム検証 | `border-error-300` + `text-error-600` |
| アラート | `bg-error-50 text-error-700` |

### Warning（Amber）— 注意・保留

| 用途 | スタイル |
|------|---------|
| ボタン | `bg-warning-600`（注意を要するアクション） |
| バッジ | `bg-warning-50 text-warning-600 border-warning-200` |
| アラート | `bg-warning-50`（注意喚起ボックス） |

### Info（Blue）— 情報・中立

| 用途 | スタイル |
|------|---------|
| バッジ | `bg-info-50 text-info-600 border-info-300` |
| 情報ボックス | `bg-info-100 text-info-700` |

### バッジの色パターン（共通構造）

`bg-{color}-50 text-{color}-600 border-{color}-200`（薄い背景 + 濃いテキスト + 中間ボーダー）

例外: Info は `border-info-300`（Blue 200 のコントラストが不足するため）

## レスポンシブ（モバイルファースト）

### ブレークポイント

| ブレークポイント | 用途 |
|----------------|------|
| `sm` (640px) | グリッドカラム展開（1列 → 2-3列） |
| `lg` (1024px) | サイドバー表示、3列グリッド |
| `md`/`xl`/`2xl` | 現在未使用（必要に応じて追加） |

### パターン

| 対象 | パターン |
|------|---------|
| テーブル | `overflow-x-auto` で横スクロール（全ブレークポイント共通） |
| グリッド | `grid-cols-1` → `sm:grid-cols-2` → `lg:grid-cols-3` |
| サイドバー | `lg` 以上で表示（`--spacing-sidebar: 16rem`） |
| フォーム | `max-w-lg` で中央配置（レスポンシブ不要） |

### 原則

- 小画面をデフォルトとし、大画面でオプトインする（`sm:`/`lg:` プレフィックス）
- エンタープライズ SaaS のため、デスクトップ（lg+）での完全対応を優先

# ADR-010: ADRからセッションログへのリンク方針

## ステータス

承認済み（2026-01-15）

## コンテキスト

ADR や設計書からセッションログ（`prompts/runs/`）へのリンクを付けるべきか検討した。セッションログには決定に至るまでの議論経緯が記録されており、リンクすることで追跡可能性が向上する可能性がある。

## 検討した選択肢

### 選択肢 1: リンクを付ける

ADR の「関連ドキュメント」セクションに、該当するセッションログへのリンクを追加する。

評価:
- 利点: 決定に至った議論経緯を追跡できる、ADR のコンテキストを補完できる
- 欠点: ADR は「原則不変」だがセッションログは後から追加される（既存 ADR への追記が発生）、セッションログのファイル名変更時にリンク切れリスク、すべての ADR にセッションログがあるわけではない（不整合）

### 選択肢 2: リンクを付けない

ADR とセッションログを独立したドキュメントとして管理する。

評価:
- 利点: ADR が自己完結する（外部依存なし）、メンテナンスコストがない、ADR の「原則不変」ルールと整合
- 欠点: 詳細な議論経緯を知りたいとき、手動でセッションログを探す必要がある

### 比較表

| 観点 | リンクを付ける | リンクを付けない |
|------|--------------|----------------|
| 追跡可能性 | 高い | 中（検索で対応可能） |
| メンテナンスコスト | 発生 | なし |
| ADR の自己完結性 | 低下 | 維持 |
| リンク切れリスク | あり | なし |
| 不変性との整合 | 低い | 高い |

## 決定

**選択肢 2: リンクを付けない** を採用する。

理由:

1. **ADR の自己完結性**: ADR は「コンテキスト」セクションに必要な背景を書けば十分であり、外部ドキュメントへの依存を避ける
2. **役割の分離**: セッションログは「作業記録」、ADR は「決定の記録」であり、役割が異なる
3. **逆方向のリンクで十分**: セッションログの「成果物」セクションには ADR へのリンクが含まれるため、逆引きは可能
4. **検索で対応可能**: 経緯を追いたい場合、日付やトピックで検索すれば十分見つかる

## 帰結

### 肯定的な影響

- ADR が自己完結したドキュメントとして維持される
- メンテナンスコストが発生しない
- ADR の「原則不変」ルールと整合する

### 否定的な影響・トレードオフ

- 議論経緯を知りたい場合は手動でセッションログを検索する必要がある
- ただし、ファイル名に日付とトピックが含まれるため、検索は容易

### 関連ドキュメント

- セッションログ規約: [`prompts/runs/README.md`](../../prompts/runs/README.md)
- ADR 規約: [`docs/04_ADR/README.md`](README.md)

---

## 変更履歴

| 日付 | 変更内容 |
|------|---------|
| 2026-01-15 | 初版作成 |

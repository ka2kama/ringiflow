# エンティティ影響マップ

## 目的

エンティティの更新責務と競合リスクを形式知化する。

AI エージェントはリポジトリ全体をメモリに保持しないため、暗黙的な依存関係を見落としやすい。
人間の開発者が持つ「嗅覚」（過去の経験に基づく競合検知能力）を、ドキュメントで補完する。

## いつ作成するか

- 新しいエンティティを追加するとき
- 既存エンティティに新しい更新パス（ユースケース）を追加するとき

## テンプレート

[テンプレート](TEMPLATE.md) を使用して作成する。

## 影響マップ一覧

| エンティティ | テーブル | 更新パス数 | 主な競合リスク |
|-------------|---------|-----------|--------------|
| [WorkflowInstance](WorkflowInstance.md) | `workflow_instances` | 7 | 同時判断操作による状態不整合 |
| [WorkflowStep](WorkflowStep.md) | `workflow_steps` | 8 | 同一ステップへの同時判断、Pending→Skipped の二重処理 |

---
paths:
  - "**/*.md"
---

# ドキュメント規約

全ての Markdown ファイルに適用する。

## 共通ルール

| 項目 | ルール |
|------|--------|
| 図表 | Mermaid 記法を使用。ASCII art は原則禁止（ピラミッド等 Mermaid で表現不可能な図のみ例外） |

### Mermaid ノードラベル

図の種類によって構文が異なる:

| 図の種類 | 構文 | 例 |
|---------|------|-----|
| flowchart | `ID["ラベル"]` | `Browser["ブラウザ"]` |
| sequenceDiagram | `participant ID as ラベル` | `participant Core as Core Service` |

補足:
- sequenceDiagram の `as` 構文は、`as` 以降全体がラベルになるため空白を含んでもクォート不要
- sequenceDiagram で `ID["ラベル"]` 形式を使うと participant が重複表示される

## 太字・斜体の使用

太字は最小限に留める。以下の基準に従う。

使ってよい場面:
- 警告・禁止事項で、見落としが致命的な箇所（例: `**禁止:**`）
- インラインの小見出し（例: `**Draft PR の目的:**`）

使わない場面:
- 番号付きリストの項目名（番号だけで十分識別できる）
- 定型ラベル（「注意:」「重要:」「フォーマット:」「参考:」など）
- 文全体や長いフレーズ（読みにくい）

判断基準: 太字を外しても意味が伝わるなら、太字は不要。

## ファイル命名

| 対象 | ルール |
|------|--------|
| `docs/**` | 連番プレフィックス: `00_`, `01_`, ... |
| `prompts/runs/**` | `YYYY-MM-DD_HHMM_<トピック>.md` |
| `prompts/improvements/**` | `YYYY-MM-DD_HHMM_<トピック>.md` |
| その他 | 自由（ただし kebab-case 推奨） |

### 命名規則のあるファイル作成時の照合

命名規則が定められたディレクトリにファイルを作成する際は、以下のプロセスで照合する:

1. 該当ディレクトリの命名規則（README.md 等）を確認する
2. テンプレートの各パートを埋めてファイル名を組み立てる
3. 組み立てたファイル名がテンプレートと一致するか照合する
4. ファイルを作成する

例（`prompts/improvements/`）:
```
テンプレート: YYYY-MM-DD_HHMM_<トピック>.md
→ 2026-01-29_1304_E2E視点の完了基準欠如.md
→ 照合: YYYY-MM-DD ✅  HHMM ✅  トピック ✅
```

改善の経緯: [命名規則を読んだが従わなかった](../../prompts/improvements/2026-01/2026-01-29_1307_命名規則を読んだが従わなかった.md)

## 外国語名の表記

発音が自明でない固有名詞や、展開形が分かりにくい略語には、初出時に読みや展開形を併記することを**推奨**する。

併記が望ましい例:

| パターン | 例 |
|---------|-----|
| 発音が自明でない名前 | Vite（ヴィート）、Elm（エルム）、Cargo（カーゴ） |
| 展開形が分かりにくい略語 | BFF（Backend for Frontend） |

注意: これは推奨であり、併記がなくてもレビューでブロックしない。
「広く知られている」かどうかの判断は主観的なため、迷った場合は併記しても良いし、しなくても良い。

## 設計書の実装状態マーカー

設計書（`docs/02_基本設計書/`、`docs/03_詳細設計書/`）において、未実装または部分的に実装済みのセクションには blockquote 形式で実装状態を明示する。

### 基本ルール

- マーカーなし = 実装済み（デフォルト）
- 未実装・部分的にのみマーカーを付与する（例外マーキング方式）
- Phase 番号は [実装ロードマップ](../../docs/03_詳細設計書/00_実装ロードマップ.md) に準拠する

### マーカーの書式

```markdown
> **実装状態**: 未実装（Phase N で実装予定）

> **実装状態**: 部分的に実装済み。〇〇は実装済み。△△は Phase N で対応予定。
```

### マーカーの配置

- セクション見出しの直後（本文の前）に配置する
- 文書の大部分が未実装の場合は、冒頭にも文書レベルの注記を追加する

### マーカーの更新タイミング

- 該当機能を実装したとき、マーカーを削除する
- 部分的に実装が進んだとき、マーカーの内容を更新する
